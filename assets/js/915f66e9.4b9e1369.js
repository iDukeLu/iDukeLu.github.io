"use strict";(self.webpackChunki_duke_lu_github_io=self.webpackChunki_duke_lu_github_io||[]).push([[6453],{9967:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>r});var s=t(5893),i=t(1151);const l={title:"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin 'caching_sha2_password' cannot be loaded...",authors:"Duke Lu",date:new Date("2018-04-08T00:00:00.000Z"),tags:["mysql"]},a=void 0,o={permalink:"/blog/2018/mysql-connection-error",source:"@site/blog/2018/mysql-connection-error.md",title:"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin 'caching_sha2_password' cannot be loaded...",description:"\u95ee\u9898",date:"2018-04-08T00:00:00.000Z",formattedDate:"2018\u5e744\u67088\u65e5",tags:[{label:"mysql",permalink:"/blog/tags/mysql"}],readingTime:1.685,hasTruncateMarker:!1,authors:[{name:"Duke Lu",title:"Golang Development Engineer",url:"https://github.com/idukelu",imageURL:"https://github.com/idukelu.png",key:"Duke Lu"}],frontMatter:{title:"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin 'caching_sha2_password' cannot be loaded...",authors:"Duke Lu",date:"2018-04-08T00:00:00.000Z",tags:["mysql"]},unlisted:!1,prevItem:{title:"Markdown \u5907\u5fd8\u5f55",permalink:"/blog/2018/markdown-memo"},nextItem:{title:"MySQL 8.0 \u5b89\u88c5\uff08CentOS 7\uff09",permalink:"/blog/2018/mysql-install-centos7"}},c={authorsImageUrls:[void 0]},r=[{value:"\u95ee\u9898",id:"\u95ee\u9898",level:2},{value:"\u89e3\u51b3",id:"\u89e3\u51b3",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"\u95ee\u9898",children:"\u95ee\u9898"}),"\n",(0,s.jsx)(n.p,{children:"\u4f7f\u7528 Navicat \u8fde\u63a5 MySQL \u6570\u636e\u5e93\u65f6\uff0c\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\u63d0\u793a\uff1a"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"2059 - authentication plugin 'caching_sha2_password' cannot be loaded...\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\u8fd9\u4e2a\u62a5\u9519\uff0c\u4e2d\u6587\u610f\u601d\u5c31\u662f\uff1a\u6743\u9650\u63d2\u4ef6 ",(0,s.jsx)(n.code,{children:"caching_sha2_password"})," \u4e0d\u80fd\u88ab\u52a0\u8f7d"]}),"\n",(0,s.jsxs)(n.p,{children:["\u901a\u8fc7\u67e5\u9605 ",(0,s.jsx)(n.a,{href:"https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html#pluggable-authentication-compatibility",children:"MySQL \u7684\u5b98\u65b9\u53c2\u8003\u6587\u6863"}),"\uff0c\u6211\u4eec\u770b\u5230\u8fd9\u6837\u7684\u4e00\u6bb5\u63cf\u8ff0\uff1a"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"In MySQL 5.7, libmysqlclient uses as its default choice either mysql_native_password or the plugin specified through the MYSQL_DEFAULT_AUTH option for mysql_options()."}),"\n",(0,s.jsx)(n.li,{children:"When a 5.7 client tries to connect to an 8.0 server, the server specifies caching_sha2_password as its default authentication plugin, but the client still sends credential details per either mysql_native_password or whatever is specified through MYSQL_DEFAULT_AUTH."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u4ece\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u660e\u767d\u4e86\uff1a"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["8.0 \u4ee5\u524d\u7684\u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u662f ",(0,s.jsx)(n.code,{children:"mysql_native_password"})]}),"\n",(0,s.jsxs)(n.li,{children:["8.0 \u4ee5\u540e\u7684\u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u662f ",(0,s.jsx)(n.code,{children:"caching_sha2_password"})]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u91cc\u4f1a\u62a5\u9519\u7684\u539f\u56e0\u5728\u4e0a\u9762\u4e5f\u63d0\u5230\u4e86\uff1a5.7 \u7684\u5ba2\u6237\u7aef\u53bb\u8fde\u63a5 8.0 \u7684\u670d\u52a1\u7aef\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u7684\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u4e0d\u540c\uff0c\u6545\u4f1a\u9020\u6210\u63d2\u4ef6\u4e0d\u80fd\u52a0\u8f7d\u7684\u9519\u8bef"}),"\n",(0,s.jsx)(n.p,{children:"\u8bf4\u660e\u4e00\u4e0b\uff1a\u76ee\u524d\u5927\u591a\u6570\u7684 MySQL \u5ba2\u6237\u7aef\u90fd\u8fd8\u6ca1\u6709\u5347\u7ea7\u4e3a 8.0 \u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u6545\u50cf Navicat\u3001Sequel Pro\u3001SQLyog \u7b49\u8fd9\u4e9b\u5e38\u7528\u7684\u8fde\u63a5\u5de5\u5177\uff0c\u90fd\u6709\u53ef\u80fd\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898"}),"\n",(0,s.jsx)(n.h2,{id:"\u89e3\u51b3",children:"\u89e3\u51b3"}),"\n",(0,s.jsxs)(n.p,{children:["\u5c06 MySQL 8.0 \u7684\u8eab\u4efd\u8ba4\u8bc1\u63d2\u4ef6\u6539\u56de\u4e3a ",(0,s.jsx)(n.code,{children:"mysql_native_password"})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["\u4fee\u6539 \u8eab\u4efd\u8ba4\u8bc1\u63d2\u4ef6\u4e3a ",(0,s.jsx)(n.code,{children:"mysql_native_password"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"ALTER USER 'root'@'%' IDENTIFIED WITH mysql_native_password BY '123456';\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"\u5237\u65b0\u6743\u9650"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"FLUSH PRIVILEGES;\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"OK\uff0c\u73b0\u5728\u518d\u7528 Navicat \u53bb\u8fde\u63a5 MySQL \u4fbf\u53ef\u4ee5\u6210\u529f\u4e86"})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>o,a:()=>a});var s=t(7294);const i={},l=s.createContext(i);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);