"use strict";(self.webpackChunki_duke_lu_github_io=self.webpackChunki_duke_lu_github_io||[]).push([[1477],{10:e=>{e.exports=JSON.parse('{"blogPosts":[{"id":"/2018/k8s-install-simple","metadata":{"permalink":"/blog/2018/k8s-install-simple","source":"@site/blog/2018/k8s-install-simple.md","title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u7cbe\u7b80\u7248\uff09","description":"\u8f6f\u786c\u4ef6\u8981\u6c42","date":"2018-06-24T00:00:00.000Z","formattedDate":"2018\u5e746\u670824\u65e5","tags":[{"label":"kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":9.63,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u7cbe\u7b80\u7248\uff09","authors":"Duke Lu","date":"2018-06-24T00:00:00.000Z","tags":["kubernetes"]},"unlisted":false,"nextItem":{"title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u8be6\u7ec6\u7248\uff09","permalink":"/blog/2018/k8s-install-detail"}},"content":"## \u8f6f\u786c\u4ef6\u8981\u6c42\\n| \u8f6f\u786c\u4ef6 | \u6700\u4f4e\u914d\u7f6e | \u63a8\u8350\u914d\u7f6e |\\n| :- | :- | :- |\\n| CPU \u548c \u5185\u5b58 | Master\uff1a\u81f3\u5c112\u68384G\u3001<br/>Node\uff1a\u81f3\u5c114\u683816G | Master\uff1a4\u683816G\u3001<br/>Node\uff1a\u6839\u636e\u8fd0\u884c\u7684\u5bb9\u5668\u6570\u91cf\u8fdb\u884c\u914d\u7f6e |\\n| Linux \u64cd\u4f5c\u7cfb\u7edf | \u57fa\u4e8e x86_64 \u67b6\u6784\u7684\u5404\u79cdLinux \u53d1\u884c\u7248\uff0cKernel 3.10 \u4ee5\u4e0a | Red Hat Linux 7<br/>CentOS 7 |\\n| etcd | 3.0 \u7248\u672c\u53ca\u4ee5\u4e0a | 3.3 \u7248\u672c |\\n| Docker | 18.03 \u7248\u672c\u53ca\u4ee5\u4e0a | 18.09 \u7248\u672c |\\n\\n## \u673a\u5668\u51c6\u5907\\n| \u89d2\u8272 | \u4e3b\u673a\u540d\u79f0 | \u5185\u7f51 IP | \u914d\u7f6e | \u7cfb\u7edf |\\n| :- | :- | :- | :- | :- |\\n| Master |KubernetesMaster | 192.168.0.123 | 2 \u6838 4 G | CentOS 7.6.5 |\\n| Node |KubernetesNode1 | 192.168.0.122 | 2 \u6838 4 G | CentOS 7.6.5 |\\n| Node |KubernetesNode2 | 192.168.0.121 | 2 \u6838 4 G | CentOS 7.6.5 |\\n\u6ce8\uff1a\u8fd9\u91cc\u53ea\u662f\u505a\u73af\u5883\u6d4b\u8bd5\uff0c\u6545\u53ea\u6ee1\u8db3\u4e86\u5b98\u65b9\u8981\u6c42\u7684\u6700\u4f4e 2 \u6838 2 G\\n\\n## \u90e8\u7f72\u6b65\u9aa4\\n\u4f7f\u7528 kubeadm \u90e8\u7f72 kubernetes \u4e3b\u8981\u6709\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u5b89\u88c5 Docker \uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 2. \u5b89\u88c5 Kubeadm\uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 3. \u57fa\u7840\u73af\u5883\u914d\u7f6e\uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 4. \u521b\u5efa Kubernetes \u96c6\u7fa4\\n\\n---\\n\\n### \u4e00. \u5b89\u88c5 Docker\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u5b89\u88c5 Docker \u5f15\u64ce\uff0c\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n> 1. \u5b89\u88c5 Docker \u9700\u8981\u7684\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\\n> 2. \u8bbe\u7f6e Docker \u7684 yum \u4ed3\u5e93\u6e90\\n> 3. \u5b89\u88c5\u5e76\u542f\u52a8 Docker\\n> 4. \u8c03\u6574 Docker \u90e8\u5206\u53c2\u6570\uff08\u4e3b\u8981\u662f\u914d\u5408 Kubernetes \u7684\u4e00\u4e9b\u914d\u7f6e\uff09\\n\\n```\\n# 1. \u5b89\u88c5\u5fc5\u8981\u7684\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\\nyum install -y yum-utils device-mapper-persistent-data lvm2\\n\\n# 2. \u8bbe\u7f6e Docker \u7684 yum \u4ed3\u5e93\u6e90\uff08\u7a33\u5b9a\u5b58\u50a8\u5e93: \u963f\u91cc\u4e91\u6e90\uff09\\nsudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo \\n\\n# 3. \u5b89\u88c5\u5e76\u542f\u52a8 Docker\\nyum install -y docker-ce\\nsystemctl start docker && systemctl enable docker \\n\\n# 4. \u8c03\u6574 Docker \u90e8\u5206\u53c2\u6570\uff08\u4fee\u6539\u56fd\u5185\u955c\u50cf\u52a0\u901f: \u963f\u91cc\u4e91\u955c\u50cf\u3001\u4fee\u6539cgroup \u9a71\u52a8\uff09\\nmkdir -p /etc/docker\\ntee /etc/docker/daemon.json <<-\'EOF\'\\n{\\n \\"registry-mirrors\\": [\\"https://pcy9sknd.mirror.aliyuncs.com\\"],\\n \\"exec-opts\\": [\\"native.cgroupdriver=systemd\\"]\\n}\\nEOF\\nsystemctl daemon-reload && systemctl restart docker\\n```\\n\\n---\\n\\n### \u4e8c. \u5b89\u88c5 Kubeadm\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u5b89\u88c5 Kubeadm \u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u914d\u7f6e Kubernetes \u7684 yum \u4ed3\u5e93\u6e90\uff08\u8fd9\u91cc\u9009\u7528\u963f\u91cc\u7684\u6e90\uff0c\u4f60\u61c2\u7684\uff09\\n> 2. \u5b89\u88c5 Kubeadm \u548c\u76f8\u5173\u5de5\u5177\\n> 3. \u542f\u52a8 Kubelet\\n\\n```\\n# 1. \u8bbe\u7f6e Kubernetes \u7684 yum \u4ed3\u5e93\u6e90\uff08\u963f\u91cc\u4e91\u6e90\uff09\\ntee /etc/yum.repos.d/kubernetes.repo <<-\'EOF\'\\n[kubernetes]\\nname=Kubernetes\\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\\nenabled=1\\ngpgcheck=1\\nrepo_gpgcheck=1\\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\\nEOF\\n\\n# 2. \u5b89\u88c5 Kubeadm \u548c\u76f8\u5173\u5de5\u5177\\nyum install -y kubelet kubeadm kubectl\\n\\n# 3. \u542f\u52a8 Kubelet\\nsystemctl start kubelet && systemctl enable kubelet\\n```\\n\\n---\\n\\n### \u4e09. \u57fa\u7840\u73af\u5883\u914d\u7f6e\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u57fa\u7840\u73af\u5883\u914d\u7f6e\uff0c\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n> 1. \u8bbe\u7f6e\u5404\u8282\u70b9\u65f6\u95f4\u7cbe\u786e\u540c\u6b65\\n> 2. \u5173\u95ed firewalld/iptables \u9632\u706b\u5899\\n> 3. \u5173\u95ed SElinux \u5b89\u5168\u6a21\u7ec4\\n> 4. \u5173\u95ed Swap \u4ea4\u6362\u5206\u533a\\n> 5. \u5bfc\u5165 IPVS \u6a21\u5757\\n> 6. \u4fee\u6539 Bridge \u6865\u63a5\u89c4\u5219\\n> 7. \u5f00\u542f iptables \u7684 FORWARD \u8f6c\u53d1\u94fe\\n> 8. \u914d\u7f6e Hosts \u89e3\u6790\\n\\n###\\n```\\n# 1. \u8bbe\u7f6e\u5404\u8282\u70b9\u65f6\u95f4\u7cbe\u786e\u540c\u6b65\\nsystemctl start chronyd.service && systemctl enable chronyd.service\\n\\n# 2. \u5173\u95ed firewalld \u9632\u706b\u5899\uff08\u5141\u8bb8 master \u548c node \u7684\u7f51\u7edc\u901a\u4fe1\uff09\\nsystemctl stop firewalld && systemctl disable firewalld\\n\\n# 3. \u5173\u95ed SElinux \u5b89\u5168\u6a21\u7ec4\uff08\u8ba9\u5bb9\u5668\u53ef\u4ee5\u8bfb\u53d6\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff09\\nsetenforce 0 && sed -i \\"s/SELINUX=enforcing$/SELINUX=disabled/g\\" /etc/selinux/config\\n\\n# 4.  \u5173\u95ed Swap \u4ea4\u6362\u5206\u533a\uff08\u542f\u7528\u4e86 Swap\uff0c\u5219 Qos \u7b56\u7565\u53ef\u80fd\u4f1a\u5931\u6548\uff09\\nswapoff -a && sed -i \\"s/\\\\/dev\\\\/mapper\\\\/centos-swap/\\\\#\\\\/dev\\\\/mapper\\\\/centos-swap/g\\" /etc/fstab\\n\\n# 5. \u5bfc\u5165 IPVS \u6a21\u5757\uff08\u7528\u6765\u4e3a\u5927\u91cf\u670d\u52a1\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff09\\ncat > /etc/sysconfig/modules/ipvs.modules <<EOF\\n#!/bin/bash\\nmodprobe -- ip_vs\\nmodprobe -- ip_vs_rr\\nmodprobe -- ip_vs_wrr\\nmodprobe -- ip_vs_sh\\nmodprobe -- nf_conntrack_ipv4\\nEOF\\nchmod 755 /etc/sysconfig/modules/ipvs.modules && bash /etc/sysconfig/modules/ipvs.modules && lsmod | grep -e ip_vs -e nf_conntrack_ipv4\\n\\n# 6.  \u4fee\u6539 Bridge \u6865\u63a5\u89c4\u5219\uff08\u90e8\u5206 Docker \u5b89\u88c5\u65f6\u4f1a\u4e3a\u6211\u4eec\u4fee\u6539\uff0c\u8fd9\u91cc\u7edf\u4e00\u8fdb\u884c\u624b\u52a8\u4fee\u6539\uff09\\ncat > /etc/sysctl.d/k8s.conf << EOF\\nnet.bridge.bridge-nf-call-ip6tables = 1\\nnet.bridge.bridge-nf-call-iptables = 1\\nvm.swappiness=0\\nEOF\\nsysctl --system\\n\\n# 7. \u5f00\u542f iptables \u7684 FORWARD \u8f6c\u53d1\u94fe\uff08Docker 1.13 \u540e\u7981\u7528\u4e86 FORWARD \u94fe\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f15\u8d77 Pod \u95f4\u65e0\u6cd5\u901a\u4fe1\uff09\\niptables -P FORWARD ACCEPT\\nsed -i \'/ExecStart/a ExecStartPost=/sbin/iptables -P FORWARD ACCEPT\' /usr/\\nlib/systemd/system/docker.service\\nsystemctl daemon-reload\\n\\n# 8.  \u914d\u7f6e Hosts \u89e3\u6790\uff08\u6dfb\u52a0 k8s \u6240\u6709\u8282\u70b9\u7684 IP \u548c\u5bf9\u5e94\u4e3b\u673a\u540d\uff0c\u5426\u5219\u521d\u59cb\u5316\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u544a\u8b66\u751a\u81f3\u9519\u8bef\uff09\\ntee /etc/hosts <<-\'EOF\'\\n::1     localhost       localhost.localdomain   localhost6      localhost6.localdomain6\\n127.0.0.1       localhost       localhost.localdomain   localhost4      localhost4.localdomain4\\n192.168.0.123 kube-master\\n192.168.0.122 kube-node1\\n192.168.0.121 kube-node2\\nEOF\\n\\n# 9. \u5b89\u88c5\u4e00\u4e9b\u5fc5\u8981\u7684\u5de5\u5177\uff08\u8fd9\u4e9b\u5de5\u5177\u5728\u4ee5\u540e\u7684\u547d\u4ee4\u4e2d\u4f1a\u7528\u5230\uff09\\nyum install -y ipset\\nyum install -y ipvsadm\\nyum install -y bind-utils\\n```\\n\\n---\\n\\n### \u56db. \u521b\u5efa Kubernetes \u96c6\u7fa4\\n\u521b\u5efa Kubernetes \u96c6\u7fa4\u4e3b\u8981\u6709\u4e24\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u521d\u59cb\u5316 Master \u8282\u70b9\\n> 2. \u521d\u59cb\u5316 Node \u8282\u70b9\\n\\n#### 1. \u521d\u59cb\u5316 Master \u8282\u70b9\\n\u521d\u59cb\u5316 Master \u8282\u70b9\uff0c\u4e3b\u8981\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u6267\u884c\u521d\u59cb\u5316\\n> 2. \u590d\u5236(\u5206\u53d1)\u914d\u7f6e\u6587\u4ef6\\n> 3. \u5b89\u88c5 CNI \u7f51\u7edc\u63d2\u4ef6\\n> 4. \u68c0\u67e5 Master \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n\\n##### 1. \u6267\u884c\u521d\u59cb\u5316\\n- \u8f83\u5c11\u81ea\u5b9a\u4e49\u914d\u7f6e\u65f6\uff0c\u91c7\u7528 `\u914d\u7f6e\u53c2\u6570` \u7684\u65b9\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\\n```\\nkubeadm init --kubernetes-version=v1.15.0 \\\\\\n--pod-network-cidr=<network-segment> \\\\\\n--image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers\\n```\\n\\n- \u8f83\u591a\u81ea\u5b9a\u4e49\u914d\u7f6e\u65f6\uff0c\u91c7\u7528`\u914d\u7f6e\u6587\u4ef6` \u7684\u65b9\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\\n```\\n# \u83b7\u53d6\u9ed8\u8ba4\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\\nkubeadm config print init-defaults > kubeadm-init.yaml\\n\\n# \u4fee\u6539\u4e3a\u81ea\u5b9a\u4e49\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\\ncat > master-init.yaml << EOF\\napiVersion: kubeadm.k8s.io/v1beta2\\nkind: InitConfiguration\\nlocalAPIEndpoint:\\n advertiseAddress: 192.168.0.123\\n bindPort: 6443\\n---\\napiVersion: kubeadm.k8s.io/v1beta2\\nimageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers\\nkind: ClusterConfiguration\\nkubernetesVersion: v1.15.0\\nnetworking:\\n dnsDomain: cluster.local\\n podSubnet: <network-segment>\\nEOF\\n\\n# \u6267\u884c\u521d\u59cb\u5316\\nkubedam init --master-init.yaml\\n```\\n\u6ce8\u610f\uff1a\\n\u521d\u59cb\u5316\u4e4b\u540e\u4f1a\u5b89\u88c5\u7f51\u7edc\u63d2\u4ef6\uff0c\u7531\u4e8e\u5404\u4e2a\u7f51\u7edc\u63d2\u4ef6\u4f7f\u7528\u7684\u7f51\u6bb5\u4e0d\u4e00\u6837\uff0c\\n\u6545\u9700\u5bf9 \u547d\u4ee4\u4e2d\u7684`--pod-network-cidr=<network-segment>` \u6216\u6587\u4ef6\u4e2d\u7684 `podSubnet: <network-segment>` \u8fdb\u884c\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\\nCalico \u7684\u9ed8\u8ba4\u7f51\u6bb5\uff1a192.168.0.0/16\uff0cFlannel \u7684\u9ed8\u8ba4\u7f51\u6bb5\uff1a10.244.0.0/16\\n\\n\u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\u8868\u793a\u6210\u529f\uff1a\\n```\\nYour Kubernetes control-plane has initialized successfully!\\n\\nTo start using your cluster, you need to run the following as a regular user:\\n\\n  mkdir -p $HOME/.kube\\n  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\\n  sudo chown $(id -u):$(id -g) $HOME/.kube/config\\n\\nYou should now deploy a pod network to the cluster.\\nRun \\"kubectl apply -f [podnetwork].yaml\\" with one of the options listed at:\\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\\n\\nThen you can join any number of worker nodes by running the following on each as root:\\n\\nkubeadm join 192.168.0.123:6443 --token b0syjo.7q877s663mc1rbni \\\\\\n    --discovery-token-ca-cert-hash sha256:cdbcbb721002cac7a7b347295922eabe65342e111a67d7f7acce50d0d9d8f27f\\n// \u4e0a\u9762\u4e00\u53e5\u662f Node \u8282\u70b9\u52a0\u5165\u96c6\u7fa4\u7684\u547d\u4ee4\uff0c\u8bb0\u5f97\u4fdd\u5b58\u4e00\u4e0b\\n```\\n\\n##### 2. \u6309\u7167\u63d0\u793a\uff0c\u590d\u5236\u914d\u7f6e\u6587\u4ef6\u5230\u666e\u901a\u7528\u6237\u76ee\u5f55\\n- \u975e root \u7528\u6237\\n```\\n# \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6\u5230 Master \u8282\u70b9\\nmkdir -p $HOME/.kube\\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\\n\\n# \u5206\u53d1\u914d\u7f6e\u6587\u4ef6\u5230\u5404 Node \u8282\u70b9\uff08\u8ba9 Node \u8282\u70b9\u4f7f\u7528 `kubectl`\uff09\\nscp /etc/kubernetes/admin.conf KubernetesNode1:~/.kube/config\\nscp /etc/kubernetes/admin.conf KubernetesNode2:~/.kube/config\\n# \u8bb0\u5f97\u5728 Node \u4e0a\u8fdb\u884c\u6388\u6743\uff0csudo chown $(id -u):$(id -g) $HOME/.kube/config\\n```\\n- root \u7528\u6237\\n```\\n# \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6\u5230 Master \u8282\u70b9\\nmkdir /root/.kube\\ncp -i /etc/kubernetes/admin.conf /root/.kube/config\\n\\n# \u5206\u53d1\u914d\u7f6e\u6587\u4ef6\u5230\u5404 Node \u8282\u70b9\uff08\u8ba9 Node \u8282\u70b9\u4f7f\u7528 `kubectl`\uff09\\nscp /etc/kubernetes/admin.conf KubernetesNode1:/root/.kube/config\\nscp /etc/kubernetes/admin.conf KubernetesNode2:/root/.kube/config\\n```\\n\\n##### 3. \u5b89\u88c5 CNI \u7f51\u7edc\u63d2\u4ef6\\n- Flannel \u63d2\u4ef6\\n```\\nkubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\\n```\\n- Calico \u63d2\u4ef6\\n```\\nkubectl apply -f https://docs.projectcalico.org/v3.8/manifests/calico.yaml\\n```\\nCNI \u63d2\u4ef6\u53c2\u8003\uff1a\\n- Flannel Github - [README.md]([https://github.com/coreos/flannel/](https://github.com/coreos/flannel/))\\n- Calico \u5b98\u65b9\u6587\u6863 - [Quickstart for Calico on Kubernetes](https://docs.projectcalico.org/v3.8/getting-started/kubernetes/)\\n- \u66f4\u591a\u53ef\u4ee5\u53c2\u8003\uff1aKubernetes \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u7684\u6559\u7a0b - [ Installing Addons](https://kubernetes.io/docs/concepts/cluster-administration/addons/)\\n\\n##### 4. \u68c0\u67e5 Master \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n- \u4f7f\u7528 `kubectl get pod -n kube-system -o wide`\uff0c\u67e5\u770b Pod \u72b6\u6001\u5747\u4e3a `Runing` \u5373\u53ef\\n- \u4f7f\u7528 `kubectl get node -o wide`\uff0c\u67e5\u770b Node \u72b6\u6001\u4e3a `Ready` \u8868\u793a Master \u521d\u59cb\u5316\u5b8c\u6210\\n\\n ---\\n\\n#### 2. \u521d\u59cb\u5316 Node \u8282\u70b9\\n\u521d\u59cb\u5316 Node \u8282\u70b9\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u53ea\u6709\u4e24\u6b65\uff0c\u5373\uff1a\\n> 1. \u6267\u884c\u521d\u59cb\u5316\\n> 2. \u68c0\u67e5 Node \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n\\n##### 1. \u521d\u59cb\u5316 Node\\n\\n\u4f7f\u7528 Master \u521d\u59cb\u5316\u65f6\u7684\u547d\u4ee4\u8fdb\u884c\u521d\u59cb\u5316\u5373\u53ef\uff0cNode \u8282\u70b9\u521d\u59cb\u5316\u540e\uff0c\u5c31\u76f4\u63a5\u52a0\u5165\u4e86\u96c6\u7fa4\\n```\\nkubeadm join <master-ip>:6443 --token <token> --discovery-token-ca-cert-hash sha256:<sha256>\\n```\\n\\n\u6ce8\u610f\uff1a\u6ca1\u6709\u8bb0\u5f55\u96c6\u7fa4 join \u547d\u4ee4\u7684\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u91cd\u65b0\u83b7\u53d6\\n```\\nsudo kubeadm token create --print-join-command --ttl=0\\n```\\n\\n##### 2. \u68c0\u67e5 Node \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n- \u4f7f\u7528 `kubectl get pod -n kube-system -o wide`\uff0c\u67e5\u770b Pod \u72b6\u6001\u5747\u4e3a `Runing` \u5373\u53ef\\n- \u4f7f\u7528 `kubectl get node -o wide`\uff0c\u67e5\u770b \u6240\u6709\u8282\u70b9 \u72b6\u6001\u5747\u4e3a `Ready` \u8868\u793a Master \u521d\u59cb\u5316\u5b8c\u6210\\n\\n---\\n\\n### \u4e94. \u91cd\u7f6e Kubernetes \u96c6\u7fa4\\n\u91cd\u7f6e Kubernetes \u96c6\u7fa4\uff0c\u4e3b\u8981\u7684\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a\\n> 1. kubeadm \u96c6\u7fa4\u91cd\u7f6e\\n> 2. iptables \u89c4\u5219\u6e05\u7406\\n> 3. ipvs \u89c4\u5219\u6e05\u7406\\n> 4. kubernetes \u914d\u7f6e\u6587\u4ef6\u6e05\u7406\\n> 5. etcd \u914d\u7f6e\u6e05\u7406\\n> 6. cni \u7f51\u7edc\u63d2\u4ef6\u6e05\u7406\\n\\n```\\nkubeadm reset\\niptables -F && iptables -t nat -F && iptables -t mangle -F && iptables -X\\nipvsadm --clear\\nrm -rf ~/.kube\\nrm -rf /var/lib/etcd\\nifconfig cni0 down\\nip link delete cni0\\nifconfig flannel.1 down\\nip link delete flannel.1\\nrm -rf /var/lib/cni/\\n```\\n---\\n\\n\u53c2\u8003\uff1a\\n[https://kubernetes.io/zh/docs/setup/independent/install-kubeadm/](https://kubernetes.io/zh/docs/setup/independent/install-kubeadm/)\\n[https://k8smeetup.github.io/docs/reference/setup-tools/kubeadm/kubeadm-init/](https://k8smeetup.github.io/docs/reference/setup-tools/kubeadm/kubeadm-init/)\\n[centos7\u4f7f\u7528kubeadm\u5b89\u88c5\u90e8\u7f72kubernetes 1.14 - Adrian\xb7Ding - \u535a\u5ba2\u56ed](https://www.cnblogs.com/ding2016/p/10784620.html)\\n[CentOS7\u4e2d\u7528kubeadm\u5b89\u88c5Kubernetes-\u4e91\u6816\u793e\u533a-\u963f\u91cc\u4e91](https://yq.aliyun.com/articles/626118)"},{"id":"/2018/k8s-install-detail","metadata":{"permalink":"/blog/2018/k8s-install-detail","source":"@site/blog/2018/k8s-install-detail.md","title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u8be6\u7ec6\u7248\uff09","description":"\u8f6f\u786c\u4ef6\u8981\u6c42","date":"2018-06-17T00:00:00.000Z","formattedDate":"2018\u5e746\u670817\u65e5","tags":[{"label":"kubernetes","permalink":"/blog/tags/kubernetes"}],"readingTime":10.975,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u8be6\u7ec6\u7248\uff09","authors":"Duke Lu","date":"2018-06-17T00:00:00.000Z","tags":["kubernetes"]},"unlisted":false,"prevItem":{"title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u7cbe\u7b80\u7248\uff09","permalink":"/blog/2018/k8s-install-simple"},"nextItem":{"title":"Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\uff08\u7b80\u5355\u7406\u89e3\uff09","permalink":"/blog/2018/jvm-data-area"}},"content":"## \u8f6f\u786c\u4ef6\u8981\u6c42\\n| \u8f6f\u786c\u4ef6 | \u6700\u4f4e\u914d\u7f6e | \u63a8\u8350\u914d\u7f6e |\\n| :- | :- | :- |\\n| CPU \u548c \u5185\u5b58 | Master\uff1a\u81f3\u5c112\u68384G\u3001<br/>Node\uff1a\u81f3\u5c114\u683816G | Master\uff1a4\u683816G\u3001<br/>Node\uff1a\u6839\u636e\u8fd0\u884c\u7684\u5bb9\u5668\u6570\u91cf\u8fdb\u884c\u914d\u7f6e |\\n| Linux \u64cd\u4f5c\u7cfb\u7edf | \u57fa\u4e8e x86_64 \u67b6\u6784\u7684\u5404\u79cdLinux \u53d1\u884c\u7248\uff0cKernel 3.10 \u4ee5\u4e0a | Red Hat Linux 7<br/>CentOS 7 |\\n| etcd | 3.0 \u7248\u672c\u53ca\u4ee5\u4e0a | 3.3 \u7248\u672c |\\n| Docker | 18.03 \u7248\u672c\u53ca\u4ee5\u4e0a | 18.09 \u7248\u672c |\\n\\n## \u673a\u5668\u51c6\u5907\\n| \u89d2\u8272 | \u4e3b\u673a\u540d\u79f0 | \u5185\u7f51 IP | \u914d\u7f6e | \u7cfb\u7edf |\\n| :- | :- | :- | :- | :- |\\n| Master |KubernetesMaster | 192.168.0.123 | 2 \u6838 4 G | CentOS 7.6.5 |\\n| Node |KubernetesNode1 | 192.168.0.122 | 2 \u6838 4 G | CentOS 7.6.5 |\\n| Node |KubernetesNode2 | 192.168.0.121 | 2 \u6838 4 G | CentOS 7.6.5 |\\n\u6ce8\uff1a\u8fd9\u91cc\u53ea\u662f\u505a\u73af\u5883\u6d4b\u8bd5\uff0c\u6545\u53ea\u6ee1\u8db3\u4e86\u5b98\u65b9\u8981\u6c42\u7684\u6700\u4f4e 2 \u6838 2 G\\n\\n## \u90e8\u7f72\u6b65\u9aa4\u8bf4\u660e\\n\u4f7f\u7528 kubeadm \u90e8\u7f72 kubernetes \u4e3b\u8981\u6709\u4ee5\u4e0b\u56db\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u5b89\u88c5 Docker \uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 2. \u5b89\u88c5 Kubeadm\uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 3. \u57fa\u7840\u73af\u5883\u914d\u7f6e\uff08\u6240\u6709\u4e3b\u673a\uff09\\n> 4. \u521b\u5efa Kubernetes \u96c6\u7fa4\\n\\n---\\n\\n## \u4e00. \u5b89\u88c5 Docker\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u5b89\u88c5 Docker \u5f15\u64ce\uff0c\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n> 1. \u5b89\u88c5 Docker \u9700\u8981\u7684\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\\n> 2. \u8bbe\u7f6e Docker \u7684 yum \u4ed3\u5e93\u6e90\\n> 3. \u5b89\u88c5\u5e76\u542f\u52a8 Docker\\n> 4. \u8c03\u6574 Docker \u90e8\u5206\u53c2\u6570\uff08\u4e3b\u8981\u662f\u914d\u5408 Kubernetes \u7684\u4e00\u4e9b\u914d\u7f6e\uff09\\n\\n1. \u5b89\u88c5\u5fc5\u8981\u7684\u4e00\u4e9b\u7cfb\u7edf\u5de5\u5177\\n\\n    ```\\n    yum install -y yum-utils device-mapper-persistent-data lvm2\\n    ```\\n\\n2. \u8bbe\u7f6e Docker \u7684 yum \u4ed3\u5e93\u6e90\\n\\n    - \u5b98\u65b9\u6e90\uff08\u4e8c\u9009\u4e00\uff09\uff1a\\n\\n        ```\\n        sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo\\n        ```\\n  \\n    - \u963f\u91cc\u4e91\u6e90\uff08\u4e8c\u9009\u4e00\uff09\uff1a\\n    \\n        ```\\n        sudo yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo      \\n        ```\\n\\n3. \u5b89\u88c5\u5e76\u542f\u52a8 Docker\\n\\n    ```\\n    yum install -y docker-ce\\n    systemctl start docker && systemctl enable docker \\n    ```\\n\\n4. \u8c03\u6574 Docker \u90e8\u5206\u53c2\u6570\\n\u8fd9\u91cc\u4e3b\u8981\u505a\u4e24\u70b9\u8c03\u6574\uff1a\\n    - \u914d\u7f6e\u56fd\u5185\u955c\u50cf\u52a0\u901f\uff08\u56fd\u5185\u7684\u5404\u79cd\u539f\u56e0\uff0c\u53ef\u80fd\u5bfc\u81f4\u62c9\u53d6\u955c\u50cf\u50cf\u8717\u725b\u4e00\u6837\u3002\u3002\u3002\uff09\\n    - \u4fee\u6539 cgroup \u9a71\u52a8\uff08Docker \u9ed8\u8ba4\u4f7f\u7528 cgroupfs\uff0cKubernetes \u5b98\u65b9\u63a8\u8350 systemd\uff09\\n    \\n    ```\\n    mkdir -p /etc/docker\\n    tee /etc/docker/daemon.json <<-\'EOF\'\\n    {\\n     \\"registry-mirrors\\": [\\"https://pcy9sknd.mirror.aliyuncs.com\\"],\\n     \\"exec-opts\\": [\\"native.cgroupdriver=systemd\\"]\\n    }\\n    EOF\\n    systemctl daemon-reload && systemctl restart docker\\n    ```\\n    \u6ce8\uff1a\u8fd9\u91cc\u91c7\u7528\u7684\u662f\u963f\u91cc\u4e91\u7684\u955c\u50cf\u6e90\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u9009\u62e9\uff1a\u4e2d\u79d1\u5927\u3001\u7f51\u6613\u3001DaoCloud\uff08\u8fd8\u6709\u4e2a\u53f7\u79f0\u4e2d\u56fd\u5b98\u65b9\u7684\u6e90\uff0c\u4f46\u5b9e\u6d4b\u597d\u50cf\u6ca1\u4ec0\u4e48\u5375\u7528\uff09\\n\\n---\\n\\n## \u4e8c. \u5b89\u88c5 Kubeadm\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u5b89\u88c5 Kubeadm \u4e3b\u8981\u6709\u4ee5\u4e0b\u4e09\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u914d\u7f6e Kubernetes \u7684 yum \u4ed3\u5e93\u6e90\uff08\u8fd9\u91cc\u9009\u7528\u963f\u91cc\u7684\u6e90\uff0c\u4f60\u61c2\u7684\uff09\\n> 2. \u5b89\u88c5 Kubeadm \u548c\u76f8\u5173\u5de5\u5177\\n> 3. \u542f\u52a8 Kubelet\\n\\n1. \u8bbe\u7f6e Kubernetes \u7684 yum \u4ed3\u5e93\u6e90\\n\\n    - \u963f\u91cc\u4e91\u6e90\uff08\u63a8\u8350\uff09\\n    \\n        ```\\n        tee /etc/yum.repos.d/kubernetes.repo <<-\'EOF\'\\n        [kubernetes]\\n        name=Kubernetes\\n        baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\\n        enabled=1\\n        gpgcheck=1\\n        repo_gpgcheck=1\\n        gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg\\n        https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\\n        EOF\\n        ```\\n    - \u5b98\u65b9\u6e90\uff08\u4e0d\u63a8\u8350\uff09\\n    \\n        ```\\n        tee /etc/yum.repos.d/kubernetes.repo <<-\'EOF\'\\n        [kubernetes]\\n        name=Kubernetes\\n        baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64\\n        enabled=1\\n        gpgcheck=1\\n        repo_gpgcheck=1\\n        gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg\\n        https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg\\n        exclude=kube*\\n        EOF\\n        ```\\n\\n2. \u5b89\u88c5 Kubeadm \u548c\u76f8\u5173\u5de5\u5177\\n\\n    ```\\n    yum install -y kubelet kubeadm kubectl --nogpgcheck\\n    ```\\n\\n3. \u542f\u52a8 Kubelet\\n\\n    ```\\n    systemctl start kubelet && systemctl enable kubelet\\n    ```\\n\\n---\\n\\n## \u4e09. \u57fa\u7840\u73af\u5883\u914d\u7f6e\uff08\u6240\u6709\u4e3b\u673a\uff09\\n\u57fa\u7840\u73af\u5883\u914d\u7f6e\uff0c\u4e3b\u8981\u6267\u884c\u4ee5\u4e0b\u6b65\u9aa4\uff1a\\n> 1. \u8bbe\u7f6e\u5404\u8282\u70b9\u65f6\u95f4\u7cbe\u786e\u540c\u6b65\\n> 2. \u5173\u95ed firewalld/iptables \u9632\u706b\u5899\\n> 3. \u5173\u95ed SElinux \u5b89\u5168\u6a21\u7ec4\\n> 4. \u5173\u95ed Swap \u4ea4\u6362\u5206\u533a\\n> 5. \u5bfc\u5165 IPVS \u6a21\u5757\\n> 6. \u4fee\u6539 Bridge \u6865\u63a5\u89c4\u5219\\n> 7. \u5f00\u542f iptables \u7684 FORWARD \u8f6c\u53d1\u94fe\\n> 8. \u914d\u7f6e Hosts \u89e3\u6790\\n\\n1. \u8bbe\u7f6e\u5404\u8282\u70b9\u65f6\u95f4\u7cbe\u786e\u540c\u6b65\\n\\n    ```\\n    systemctl start chronyd.service && systemctl enable chronyd.service\\n    ```\\n\\n2. \u5173\u95ed firewalld \u9632\u706b\u5899\uff08\u5141\u8bb8 master \u548c node \u7684\u7f51\u7edc\u901a\u4fe1\uff09\\n\u7531\u4e8e Master \u548c Node \u5b58\u5728\u5927\u91cf\u7f51\u7edc\u4ea4\u4e92\uff0c\u9700\u5bf9\u9632\u706b\u5899\u8fdb\u884c\u76f8\u5173\u914d\u7f6e\\n    - \u5916\u7f51\u73af\u5883\uff1a\u5728\u9632\u706b\u5899\u4e0a\u914d\u7f6e\u5404\u7ec4\u4ef6\u76f8\u4e92\u901a\u4fe1\u7684\u7aef\u53e3\\n    - \u5185\u7f51\u73af\u5883\uff1a\u76f4\u63a5\u5173\u95ed\u9632\u706b\u5899\uff0c\u51cf\u5c11\u9632\u706b\u5899\u89c4\u5219\u7684\u7ef4\u62a4\u5de5\u4f5c\\n    \\n    ```\\n    systemctl stop firewalld && systemctl disable firewalld\\n    ```\\n\\n3. \u5173\u95ed SElinux \u5b89\u5168\u6a21\u7ec4\uff08\u8ba9\u5bb9\u5668\u53ef\u4ee5\u8bfb\u53d6\u4e3b\u673a\u7684\u6587\u4ef6\u7cfb\u7edf\uff09\\n\\n    ```\\n    setenforce 0 && sed -i \\"s/SELINUX=enforcing$/SELINUX=disabled/g\\" /etc/selinux/config\\n    ```\\n\\n4.  \u5173\u95ed Swap \u4ea4\u6362\u5206\u533a\uff08\u542f\u7528\u4e86 Swap\uff0c\u5219 Qos \u7b56\u7565\u53ef\u80fd\u4f1a\u5931\u6548\uff09\\n\\n    ```\\n    swapoff -a && sed -i \\"s/\\\\/dev\\\\/mapper\\\\/centos-swap/\\\\#\\\\/dev\\\\/mapper\\\\/centos-swap/g\\" /etc/fstab\\n    ```\\n\\n5. \u5bfc\u5165 IPVS \u6a21\u5757\uff08\u7528\u6765\u4e3a\u5927\u91cf\u670d\u52a1\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff09\\n\\n    ```\\n    cat > /etc/sysconfig/modules/ipvs.modules <<EOF\\n    #!/bin/bash\\n    modprobe -- ip_vs\\n    modprobe -- ip_vs_rr\\n    modprobe -- ip_vs_wrr\\n    modprobe -- ip_vs_sh\\n    modprobe -- nf_conntrack_ipv4\\n    EOF\\n    chmod 755 /etc/sysconfig/modules/ipvs.modules && bash /etc/sysconfig/modules/ipvs.modules && lsmod | grep -e ip_vs -e nf_conntrack_ipv4\\n    ```\\n\\n6.  \u4fee\u6539 Bridge \u6865\u63a5\u89c4\u5219\uff08\u90e8\u5206 Docker \u5b89\u88c5\u65f6\u4f1a\u4e3a\u6211\u4eec\u4fee\u6539\uff0c\u8fd9\u91cc\u7edf\u4e00\u8fdb\u884c\u624b\u52a8\u4fee\u6539\uff09\\n\\n    ```\\n    cat > /etc/sysctl.d/k8s.conf << EOF\\n    net.bridge.bridge-nf-call-ip6tables = 1\\n    net.bridge.bridge-nf-call-iptables = 1\\n    vm.swappiness=0\\n    EOF\\n    sysctl --system\\n    ```\\n\\n7. \u5f00\u542f iptables \u7684 FORWARD \u8f6c\u53d1\u94fe\uff08Docker 1.13 \u540e\u7981\u7528\u4e86 FORWARD \u94fe\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f15\u8d77 Pod \u95f4\u65e0\u6cd5\u901a\u4fe1\uff09\\n\\n    ```\\n    iptables -P FORWARD ACCEPT\\n    sed -i \'/ExecStart/a ExecStartPost=/sbin/iptables -P FORWARD ACCEPT\' /usr/lib/systemd/system/docker.service\\n    systemctl daemon-reload\\n    ```\\n\\n8.  \u914d\u7f6e Hosts \u89e3\u6790\uff08\u6dfb\u52a0 k8s \u6240\u6709\u8282\u70b9\u7684 IP \u548c\u5bf9\u5e94\u4e3b\u673a\u540d\uff0c\u5426\u5219\u521d\u59cb\u5316\u7684\u65f6\u5019\u4f1a\u51fa\u73b0\u544a\u8b66\u751a\u81f3\u9519\u8bef\uff09\\n\\n    ```\\n    tee /etc/hosts <<-\'EOF\'\\n    ::1     localhost       localhost.localdomain   localhost6      localhost6.localdomain6\\n    127.0.0.1       localhost       localhost.localdomain   localhost4      localhost4.localdomain4\\n    192.168.0.123 kube-master\\n    192.168.0.122 kube-node1\\n    192.168.0.121 kube-node2\\n    EOF\\n    ```\\n\\n9. \u5b89\u88c5\u4e00\u4e9b\u5fc5\u8981\u7684\u5de5\u5177\uff08\u8fd9\u4e9b\u5de5\u5177\u5728\u4ee5\u540e\u7684\u547d\u4ee4\u4e2d\u4f1a\u7528\u5230\uff09\\n\\n    ```\\n    yum install -y ipset ipvsadm bind-utils\\n    ```\\n\\n---\\n\\n## \u56db. \u521b\u5efa Kubernetes \u96c6\u7fa4\\n\u521b\u5efa Kubernetes \u96c6\u7fa4\u4e3b\u8981\u6709\u4e24\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u521d\u59cb\u5316 Master \u8282\u70b9\\n> 2. \u521d\u59cb\u5316 Node \u8282\u70b9\\n\\n### 1. \u521d\u59cb\u5316 Master \u8282\u70b9\\n\u521d\u59cb\u5316 Master \u8282\u70b9\uff0c\u4e3b\u8981\u6709\u56db\u4e2a\u6b65\u9aa4\uff1a\\n> 1. \u6267\u884c\u521d\u59cb\u5316\\n> 2. \u590d\u5236(\u5206\u53d1)\u914d\u7f6e\u6587\u4ef6\\n> 3. \u5b89\u88c5 CNI \u7f51\u7edc\u63d2\u4ef6\\n> 4. \u68c0\u67e5 Master \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n\\n1. \u6267\u884c\u521d\u59cb\u5316\\n    - \u81ea\u5b9a\u4e49\u914d\u7f6e\u8f83\u5c11\u65f6\uff1a\u63a8\u8350\u4f7f\u7528 `\u914d\u7f6e\u53c2\u6570` \u7684\u65b9\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\\n    \\n        ```\\n        kubeadm init --kubernetes-version=v1.15.0 \\\\\\n        --pod-network-cidr=<network-segment> \\\\\\n        --image-repository=registry.cn-hangzhou.aliyuncs.com/google_containers\\n        ```\\n    \\n    - \u81ea\u5b9a\u4e49\u914d\u7f6e\u8f83\u591a\u65f6\uff0c\u63a8\u8350\u4f7f\u7528 `\u914d\u7f6e\u6587\u4ef6` \u7684\u65b9\u5f0f\u8fdb\u884c\u521d\u59cb\u5316\uff1a\\n        1. \u4f7f\u7528 `kubeadm config print init-defaults > kubeadm-init.yaml` \u83b7\u53d6\u521d\u59cb\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u76f8\u5e94\u7684\u81ea\u5b9a\u4e49\u4fee\u6539\\n        2. \u7136\u540e\u4f7f\u7528 `kubeadm init --config kubeadm-init.yaml`\uff0c\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u521d\u59cb\u5316\\n    \\n        ```\\n        # \u4fee\u6539\u521d\u59cb\u5316\u914d\u7f6e\u6587\u4ef6\\n        cat > master-init.yaml << EOF\\n        apiVersion: kubeadm.k8s.io/v1beta2\\n        kind: InitConfiguration\\n        localAPIEndpoint:\\n         advertiseAddress: 192.168.0.123\\n         bindPort: 6443\\n        ---\\n        apiVersion: kubeadm.k8s.io/v1beta2\\n        imageRepository: registry.cn-hangzhou.aliyuncs.com/google_containers\\n        kind: ClusterConfiguration\\n        kubernetesVersion: v1.15.0\\n        networking:\\n         dnsDomain: cluster.local\\n         podSubnet: <network-segment>\\n        EOF\\n    \\n        # \u6267\u884c\u521d\u59cb\u5316\\n        kubedam init --master-init.yaml\\n        ```\\n      \\n    > \u6ce8\u610f\uff1a\\n    > \u521d\u59cb\u5316\u4e4b\u540e\u4f1a\u5b89\u88c5\u7f51\u7edc\u63d2\u4ef6\uff0c\u7531\u4e8e\u5404\u4e2a\u7f51\u7edc\u63d2\u4ef6\u4f7f\u7528\u7684\u7f51\u6bb5\u4e0d\u4e00\u6837\uff0c\\n    > \u6545\u9700\u5bf9 \u547d\u4ee4\u4e2d\u7684 `--pod-network-cidr=<network-segment>` \u6216\u6587\u4ef6\u4e2d\u7684 `podSubnet: <network-segment>` \u8fdb\u884c\u81ea\u5b9a\u4e49\u914d\u7f6e\uff0c\\n    > \uff08Calico \u7684\u9ed8\u8ba4\u7f51\u6bb5\uff1a192.168.0.0/16\uff0cFlannel \u7684\u9ed8\u8ba4\u7f51\u6bb5\uff1a10.244.0.0/16\uff09\\n    > \u62c9\u53d6\u4e0d\u5230\u955c\u50cf\u65f6\uff0c\u4f7f\u7528 `kubeadm config images pull` \u63d0\u524d\u62c9\u53d6\u955c\u50cf\\n    \u8f93\u51fa\u4ee5\u4e0b\u5185\u5bb9\u8868\u793a\u6210\u529f\uff1a\\n    \\n    ```\\n    Your Kubernetes control-plane has initialized successfully!\\n    \\n    To start using your cluster, you need to run the following as a regular user:\\n    \\n      mkdir -p $HOME/.kube\\n      sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\\n      sudo chown $(id -u):$(id -g) $HOME/.kube/config\\n\\n    You should now deploy a pod network to the cluster.\\n    Run \\"kubectl apply -f [podnetwork].yaml\\" with one of the options listed at:\\n      https://kubernetes.io/docs/concepts/cluster-administration/addons/\\n    \\n    Then you can join any number of worker nodes by running the following on each as root:\\n    \\n    kubeadm join 192.168.0.123:6443 --token b0syjo.7q877s663mc1rbni \\\\\\n        --discovery-token-ca-cert-hash\\n    sha256:cdbcbb721002cac7a7b347295922eabe65342e111a67d7f7acce50d0d9d8f27f\\n    // \u4e0a\u9762\u4e00\u53e5\u662f Node \u8282\u70b9\u52a0\u5165\u96c6\u7fa4\u7684\u547d\u4ee4\uff0c\u8bb0\u5f97\u4fdd\u5b58\u4e00\u4e0b\\n    ```\\n\\n2. \u6309\u7167\u63d0\u793a\uff0c\u590d\u5236\u914d\u7f6e\u6587\u4ef6\u5230\u666e\u901a\u7528\u6237\u76ee\u5f55\\n    - \u975e root \u7528\u6237\\n    \\n        ```\\n        # \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6\u5230 Master \u8282\u70b9\\n        mkdir -p $HOME/.kube\\n        sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\\n        sudo chown $(id -u):$(id -g) $HOME/.kube/config\\n    \\n        # \u5206\u53d1\u914d\u7f6e\u6587\u4ef6\u5230\u5404 Node \u8282\u70b9\uff08\u8ba9 Node \u8282\u70b9\u4f7f\u7528 `kubectl`\uff09\\n        scp /etc/kubernetes/admin.conf KubernetesNode1:~/.kube/config\\n        scp /etc/kubernetes/admin.conf KubernetesNode2:~/.kube/config\\n        # \u8bb0\u5f97\u5728 Node \u4e0a\u8fdb\u884c\u6388\u6743\uff0csudo chown $(id -u):$(id -g) $HOME/.kube/config\\n        ```\\n      \\n    - root \u7528\u6237\\n    \\n        ```\\n        # \u62f7\u8d1d\u914d\u7f6e\u6587\u4ef6\u5230 Master \u8282\u70b9\\n        mkdir /root/.kube\\n        cp -i /etc/kubernetes/admin.conf /root/.kube/config\\n    \\n        # \u5206\u53d1\u914d\u7f6e\u6587\u4ef6\u5230\u5404 Node \u8282\u70b9\uff08\u8ba9 Node \u8282\u70b9\u4f7f\u7528 `kubectl`\uff09\\n        scp /etc/kubernetes/admin.conf KubernetesNode1:/root/.kube/config\\n        scp /etc/kubernetes/admin.conf KubernetesNode2:/root/.kube/config\\n        ```\\n\\n3. \u5b89\u88c5 CNI \u7f51\u7edc\u63d2\u4ef6\\n    - Flannel \u63d2\u4ef6\\n    \\n        ```\\n        kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/master/Documentation/kube-flannel.yml\\n        ```\\n        \u53c2\u8003\uff1aFlannel Github - [README.md]([https://github.com/coreos/flannel/](https://github.com/coreos/flannel/))\\n    \\n    - Calico \u63d2\u4ef6\\n    \\n        ```\\n        kubectl apply -f https://docs.projectcalico.org/v3.8/manifests/calico.yaml\\n        ```\\n        \u53c2\u8003\uff1aCalico \u5b98\u65b9\u6587\u6863 - [Quickstart for Calico on Kubernetes](https://docs.projectcalico.org/v3.8/getting-started/kubernetes/)\\n        \u66f4\u591a CNI \u63d2\u4ef6\u53ef\u4ee5\u53c2\u8003\uff1aKubernetes \u5b98\u65b9\u6587\u6863\u63d0\u4f9b\u7684\u6559\u7a0b - [ Installing Addons](https://kubernetes.io/docs/concepts/cluster-administration/addons/)\\n\\n4. \u68c0\u67e5 Master \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n    - \u4f7f\u7528 `kubectl get pod -n kube-system -o wide`\uff0c\u67e5\u770b Pod \u72b6\u6001\u5747\u4e3a `Runing` \u5373\u53ef\\n    - \u4f7f\u7528 `kubectl get node -o wide`\uff0c\u67e5\u770b Node \u72b6\u6001\u4e3a `Ready` \u8868\u793a Master \u521d\u59cb\u5316\u5b8c\u6210\\n\\n---\\n\\n### 2. \u521d\u59cb\u5316 Node \u8282\u70b9\\n\u521d\u59cb\u5316 Node \u8282\u70b9\u5c31\u6bd4\u8f83\u7b80\u5355\u4e86\uff0c\u53ea\u6709\u4e24\u6b65\uff0c\u5373\uff1a\\n> 1. \u6267\u884c\u521d\u59cb\u5316\\n> 2. \u68c0\u67e5 Node \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n\\n1. \u521d\u59cb\u5316 Node\\n\u4f7f\u7528 Master \u521d\u59cb\u5316\u65f6\u7684\u547d\u4ee4\u8fdb\u884c\u521d\u59cb\u5316\u5373\u53ef\uff0cNode \u8282\u70b9\u521d\u59cb\u5316\u540e\uff0c\u5c31\u76f4\u63a5\u52a0\u5165\u4e86\u96c6\u7fa4\\n\\n    ```\\n    kubeadm join <master-ip>:6443 --token <token> --discovery-token-ca-cert-hash sha256:<sha256>\\n    ```\\n\\n    \u6ce8\u610f\uff1a\u6ca1\u6709\u8bb0\u5f55\u96c6\u7fa4 join \u547d\u4ee4\u7684\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u91cd\u65b0\u83b7\u53d6\\n    \\n    ```\\n    sudo kubeadm token create --print-join-command --ttl=0\\n    ```\\n\\n2. \u68c0\u67e5 Node \u7684 Pod \u53ca \u96c6\u7fa4\u72b6\u6001\\n    - \u4f7f\u7528 `kubectl get pod -n kube-system -o wide`\uff0c\u67e5\u770b Pod \u72b6\u6001\u5747\u4e3a `Runing` \u5373\u53ef\\n    - \u4f7f\u7528 `kubectl get node -o wide`\uff0c\u67e5\u770b \u6240\u6709\u8282\u70b9 \u72b6\u6001\u5747\u4e3a `Ready` \u8868\u793a Master \u521d\u59cb\u5316\u5b8c\u6210\\n\\n---\\n\\n## \u4e94. \u91cd\u7f6e Kubernetes \u96c6\u7fa4\\n\u5728\u96c6\u7fa4\u5b89\u88c5\u5931\u8d25\uff0c\u6216\u8005\u51fa\u73b0\u4e00\u4e9b\u65e0\u6cd5\u89e3\u51b3\u7684\u95ee\u9898\u65f6\uff0c\u53ef\u4ee5\u91cd\u7f6e\u96c6\u7fa4\uff0c\u518d\u91cd\u65b0\u5b89\u88c5\\n\u91cd\u7f6e Kubernetes \u96c6\u7fa4\uff0c\u4e3b\u8981\u7684\u6267\u884c\u6b65\u9aa4\u5982\u4e0b\uff1a\\n> 1. kubeadm \u96c6\u7fa4\u91cd\u7f6e\\n> 2. iptables \u89c4\u5219\u6e05\u7406\\n> 3. ipvs \u89c4\u5219\u6e05\u7406\\n> 4. kubernetes \u914d\u7f6e\u6587\u4ef6\u6e05\u7406\\n> 5. etcd \u914d\u7f6e\u6e05\u7406\\n> 6. cni \u7f51\u7edc\u63d2\u4ef6\u6e05\u7406\\n\\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u64b8\u4ee3\u7801\\n```\\nkubeadm reset\\niptables -F && iptables -t nat -F && iptables -t mangle -F && iptables -X\\nipvsadm --clear\\nrm -rf ~/.kube\\nrm -rf /var/lib/etcd\\nifconfig cni0 down\\nip link delete cni0\\nifconfig flannel.1 down\\nip link delete flannel.1\\nrm -rf /var/lib/cni/\\n```\\n---\\n\\n\u53c2\u8003\uff1a\\n[https://kubernetes.io/zh/docs/setup/independent/install-kubeadm/](https://kubernetes.io/zh/docs/setup/independent/install-kubeadm/)\\n[https://k8smeetup.github.io/docs/reference/setup-tools/kubeadm/kubeadm-init/](https://k8smeetup.github.io/docs/reference/setup-tools/kubeadm/kubeadm-init/)\\n[centos7\u4f7f\u7528kubeadm\u5b89\u88c5\u90e8\u7f72kubernetes 1.14 - Adrian\xb7Ding - \u535a\u5ba2\u56ed](https://www.cnblogs.com/ding2016/p/10784620.html)\\n[CentOS7\u4e2d\u7528kubeadm\u5b89\u88c5Kubernetes-\u4e91\u6816\u793e\u533a-\u963f\u91cc\u4e91](https://yq.aliyun.com/articles/626118)"},{"id":"/2018/jvm-data-area","metadata":{"permalink":"/blog/2018/jvm-data-area","source":"@site/blog/2018/jvm-data-area.md","title":"Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\uff08\u7b80\u5355\u7406\u89e3\uff09","description":"Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\u56fe\u793a","date":"2018-06-03T00:00:00.000Z","formattedDate":"2018\u5e746\u67083\u65e5","tags":[{"label":"java","permalink":"/blog/tags/java"},{"label":"jvm","permalink":"/blog/tags/jvm"}],"readingTime":8.59,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\uff08\u7b80\u5355\u7406\u89e3\uff09","authors":"Duke Lu","date":"2018-06-03T00:00:00.000Z","tags":["java","jvm"]},"unlisted":false,"prevItem":{"title":"Kubernetes v1.15.0 \u96c6\u7fa4\u7684\u5b89\u88c5\u90e8\u7f72\uff08\u8be6\u7ec6\u7248\uff09","permalink":"/blog/2018/k8s-install-detail"},"nextItem":{"title":"Linux/Mac \u914d\u7f6e Java \u73af\u5883","permalink":"/blog/2018/linux-mac-java-env-setting"}},"content":"## Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\u56fe\u793a\\n![Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df](https://upload-images.jianshu.io/upload_images/12158715-2d7103aacd2e8185.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)\\n\\n\x3c!--truncate--\x3e \\n\\n## \u7a0b\u5e8f\u8ba1\u6570\u5668\uff08Program Counter Register\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u79c1\u6709\u3001\u884c\u53f7\u6307\u793a\u5668**\\n\\n**\u7a0b\u5e8f\u8ba1\u6570\u5668**\uff1a\u662f\u4e00\u5c0f\u5757\u5185\u5b58\u533a\u57df\uff0c\u5b83\u53ef\u4ee5\u770b\u4f5c\u662f\u5f53\u524d\u7ebf\u7a0b\u6240\u6267\u884c\u5b57\u8282\u7801\u7684\u884c\u53f7\u6307\u793a\u5668\u3002\\n\u5b57\u8282\u7801\u89e3\u91ca\u5668\u5de5\u4f5c\u65f6\uff0c\u5c31\u662f\u901a\u8fc7\u6539\u53d8\u7a0b\u5e8f\u8ba1\u6570\u5668\u7684\u503c\u6765\u9009\u53d6\u4e0b\u4e00\u6761\u9700\u8981\u6267\u884c\u7684\u5b57\u8282\u7801\u6307\u4ee4\uff0c\u5206\u652f\u3001\u5faa\u73af\u3001\u8df3\u8f6c\u3001\u5f02\u5e38\u5904\u7406\u3001\u7ebf\u7a0b\u6062\u590d\u7b49\u57fa\u7840\u529f\u80fd\u90fd\u8981\u4f9d\u8d56\u7a0b\u5e8f\u8ba1\u6570\u5668\u6765\u5b8c\u6210\u3002\\n\\n- \u8bb0\u5f55\u7684\u5185\u5bb9\\n\u6267\u884c\u4e00\u4e2a Java \u65b9\u6cd5\uff1a\u8bb0\u5f55\u7684\u662f\uff0c\u6b63\u5728\u6267\u884c\u7684\u865a\u62df\u673a\u5b57\u8282\u7801\u6307\u4ee4\u7684\u5730\u5740\\n\u6267\u884c\u4e00\u4e2a Native \u65b9\u6cd5\uff1a\u8ba1\u6570\u5668\u7684\u503c\u4e3a\u7a7a\\n\\n- \u5f02\u5e38\\n\u552f\u4e00\u4e00\u4e2a\u5728 Java \u865a\u62df\u673a\u89c4\u8303\u4e2d\u6ca1\u6709\u89c4\u5b9a\u4efb\u4f55 `OutOfMemoryError` \u60c5\u51b5\u7684\u533a\u57df\\n\\n## Java \u865a\u62df\u673a\u6808\uff08Java Virtual Machine Stacks\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u79c1\u6709\u3001\u63cf\u8ff0 Java \u65b9\u6cd5\u6267\u884c\u8fc7\u7a0b**\\n\\n**\u865a\u62df\u673a\u6808**\uff1a\u63cf\u8ff0 Java \u65b9\u6cd5\u6267\u884c\u7684\u5185\u5b58\u6a21\u578b\u3002\u5b83\u7684\u751f\u547d\u5468\u671f\u540c\u7ebf\u7a0b\u3002\\n\u6bcf\u4e2a\u65b9\u6cd5\u6267\u884c\u7684\u65f6\u5019\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u6808\u6862\uff0c\u6bcf\u4e2a\u65b9\u6cd5\u7684\u8c03\u7528\u76f4\u81f3\u6267\u884c\u5b8c\u6210\uff0c\u5c31\u5bf9\u5e94\u4e00\u4e2a\u6808\u6862\u5728\u865a\u62df\u673a\u6808\u4e2d\u5165\u6808\u5230\u51fa\u6808\u9053\u8fc7\u7a0b\\n\\n- \u6808\u6862\uff08Stack Frame\uff09\uff1a\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u8868\u3001\u64cd\u4f5c\u6570\u6808\u3001\u52a8\u6001\u94fe\u8868\u3001\u65b9\u6cd5\u51fa\u53e3\u7b49\u4fe1\u606f\\n\\n- \u5c40\u90e8\u53d8\u91cf\u8868\uff1a\u5b58\u653e\u7f16\u8bd1\u671f\u53ef\u77e5\u7684\u5404\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5bf9\u8c61\u5f15\u7528\u3001returnAddress\u7c7b\u578b\\n\\n- \u5f02\u5e38\\n`StackOverflowError`\uff1a\u7ebf\u7a0b\u8bf7\u6c42\u7684\u6808\u6df1\u5ea6\u5927\u4e8e\u865a\u62df\u673a\u5141\u8bb8\u7684\u6df1\u5ea6\u65f6\uff0c\u629b\u51fa\\n`OutOfMemoryError`\uff1a\u865a\u62df\u673a\u6808\u52a8\u6001\u6269\u5c55\u65f6\u65e0\u6cd5\u7533\u8bf7\u5230\u8db3\u591f\u5185\u5b58\u65f6\uff0c\u629b\u51fa\\n\\n## \u672c\u5730\u65b9\u6cd5\u6808\uff08Native Method Stack\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u79c1\u6709\u3001\u63cf\u8ff0 Native \u65b9\u6cd5\u6267\u884c\u8fc7\u7a0b**\\n\\n**\u672c\u5730\u65b9\u6cd5\u6808**\uff1a\u4e0e Java \u865a\u62df\u673a\u6808\u53d1\u6325\u5230\u4f5c\u7528\u975e\u5e38\u76f8\u4f3c\u3002\\n\u865a\u62df\u673a\u6808\uff1a\u4e3a\u865a\u62df\u673a\u6267\u884c Java \u65b9\u6cd5\u670d\u52a1\uff1b\u672c\u5730\u65b9\u6cd5\u6808\uff1a\u4e3a\u865a\u62df\u673a\u6267\u884c Native \u65b9\u6cd5\u670d\u52a1\\n\\n- \u5f02\u5e38\\n`StackOverflowError`\uff1a\u7ebf\u7a0b\u8bf7\u6c42\u7684\u6808\u6df1\u5ea6\u5927\u4e8e\u865a\u62df\u673a\u5141\u8bb8\u7684\u6df1\u5ea6\u65f6\uff0c\u629b\u51fa\\n`OutOfMemoryError`\uff1a\u865a\u62df\u673a\u6808\u52a8\u6001\u6269\u5c55\u65f6\u65e0\u6cd5\u7533\u8bf7\u5230\u8db3\u591f\u5185\u5b58\u65f6\uff0c\u629b\u51fa\\n\\n## Java \u5806\uff08Java Heap\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u5171\u4eab\u3001\u5b58\u653e\u5bf9\u8c61\u5b9e\u4f8b**\\n\\n**Java \u5806**\uff1a\u88ab\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684\u4e00\u5757\u5185\u5b58\u533a\u57df\uff0c\u5728\u865a\u62df\u673a\u542f\u52a8\u65f6\u521b\u5efa\u3002\\nJava \u5806\u5185\u5b58\u533a\u57df\u7684\u552f\u4e00\u76ee\u7684\u5c31\u662f\uff1a\u5b58\u653e\u5bf9\u8c61\u5b9e\u4f8b\uff08\u4f46\uff0c\u5bf9\u8c61\u5b9e\u4f8b\u90fd\u5206\u914d\u5728\u5806\u4e0a\uff0c\u4e0d\u662f\u7edd\u5bf9\u7684\uff09\\nJava \u5806\u662f\u5783\u573e\u6536\u96c6\u5668\u7ba1\u7406\u7684\u4e3b\u8981\u533a\u57df\uff0c\u5f88\u591a\u65f6\u5019\u4e5f\u88ab\u79f0\u4e3a\u201cGC\u5806\uff08Garbage Collected Heap\uff09\u201d\\n\u6839\u636e Java \u865a\u62df\u673a\u89c4\u8303\u89c4\u5b9a\uff1aJava \u5806\u53ef\u4ee5\u5904\u4e8e\u7269\u7406\u4e0a\u4e0d\u8fde\u7eed\u7684\u5185\u5b58\u7a7a\u95f4\u4e2d\uff0c\u53ea\u8981\u903b\u8f91\u4e0a\u8fde\u7eed\u5373\u53ef\\n\\n- \u5806\u5185\u5b58\u5212\u5206\\n\u5206\u4ee3\u6536\u96c6\u6cd5\u7684\u89d2\u5ea6\uff1a\\n\u65b0\u751f\u4ee3\u3001\u8001\u5e74\u4ee3\uff08\u7ec6\u81f4\u4e00\u70b9\uff1aEden \u7a7a\u95f4\u3001From Survivor\u7a7a\u95f4\u3001To Survivor\u7a7a\u95f4\u7b49\uff09\\n\\n\u5185\u5b58\u5206\u914d\u7684\u89d2\u5ea6\uff1a\\n\u7ebf\u7a0b\u5171\u4eab\u7684 Java \u5806\u53ef\u80fd\u5212\u5206\u51fa\u591a\u4e2a\u7ebf\u7a0b\u79c1\u6709\u7684\u5206\u914d\u7f13\u51b2\u533a\uff08Thread Local Allocation Buffer\uff0cTLAB\uff09\\n\\n- \u5f02\u5e38\\n`OutOfMemoryError`\uff1a\u5806\u4e2d\u6ca1\u6709\u5185\u5b58\u5b8c\u6210\u5b9e\u4f8b\u5206\u914d\uff0c\u5e76\u4e14\u5806\u4e5f\u65e0\u6cd5\u518d\u6269\u5c55\u65f6\uff0c\u629b\u51fa\\n\\n## \u65b9\u6cd5\u533a\uff08Method Area\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u5171\u4eab\u3001\u5b58\u653e\u5bf9\u8c61\u5b9e\u4f8b\u4ee5\u5916\u7684\u6570\u636e**\\n\\n**\u65b9\u6cd5\u533a**\uff1a\u4e0e Java \u5806\u4e00\u6837\uff0c\u88ab\u6240\u6709\u7ebf\u7a0b\u5171\u4eab\u7684\u4e00\u5757\u5185\u5b58\u533a\u57df\u3002\\n\u65b9\u6cd5\u533a\u7528\u4e8e\u5b58\u50a8\uff1a\u5df2\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684\u7c7b\u4fe1\u606f\u3001\u5e38\u91cf\u3001\u9759\u6001\u53d8\u91cf\u3001\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801\u7b49\u6570\u636e\\n\u7c7b\u4fe1\u606f\uff1a\u5b58\u50a8\u7c7b\u540d\u3001\u8bbf\u95ee\u4fee\u9970\u7b26\u3001\u5e38\u91cf\u6c60\u3001\u5b57\u6bb5\u63cf\u8ff0\u3001\u65b9\u6cd5\u63cf\u8ff0\u7b49\\n\u4e60\u60ef\u5728 HotSpot \u865a\u62df\u673a\u4e0a\u5f00\u53d1\u3001\u90e8\u7f72\u7684\u5f00\u53d1\u8005\uff0c\u66f4\u613f\u610f\u5c06\u65b9\u6cd5\u533a\u79f0\u4e3a\u201c\u6c38\u4e45\u4ee3\uff08Permanent Generation\uff09\u201d\\n\\n- \u5783\u573e\u56de\u6536\u7684\u76ee\u6807\\n\u5bf9\u5e38\u91cf\u6c60\u7684\u56de\u6536\u3001\u5bf9\u7c7b\u578b\u7684\u5378\u8f7d\\n\\n- \u5f02\u5e38\\n`OutOfMemoryError`\uff1a\u65b9\u6cd5\u533a\u65e0\u6cd5\u6ee1\u8db3\u5185\u5b58\u5206\u914d\u65f6\uff0c\u629b\u51fa\\n\\n#### \u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\uff08Runtime Constant Pool Table\uff09\\n**\u7b80\u5355\u7406\u89e3\uff1a\u7ebf\u7a0b\u5171\u4eab\u3001\u5b58\u653e\u5b57\u9762\u91cf\u3001\u7b26\u53f7\u5f15\u7528\u3001\u76f4\u63a5\u5f15\u7528**\\n\\n**\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60**\uff1a\u65b9\u6cd5\u533a\u7684\u4e00\u90e8\u5206\u3002\\nClass \u6587\u4ef6\u9664\u4e86\u6709\u7c7b\u7684\u7248\u672c\u3001\u5b57\u6bb5\u3001\u65b9\u6cd5\u3001\u63a5\u53e3\u7b49\u63cf\u8ff0\u4fe1\u606f\uff1b\u8fd8\u6709\u4e00\u9879\u4fe1\u606f\uff0c\u4fbf\u662f\u5e38\u91cf\u6c60\uff0c\u7528\u4e8e\u5b58\u653e\u7f16\u8bd1\u671f\u751f\u6210\u7684\u5404\u79cd\u5b57\u9762\u91cf\u548c\u5b57\u7b26\u5f15\u7528\uff0c\u8fd9\u90e8\u5206\u5185\u5bb9\uff08\u5e38\u91cf\u6c60\uff09\u5c06\u5728\u7c7b\u52a0\u8f7d\u540e\u8fdb\u5165\u65b9\u6cd5\u533a\u7684\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u5b58\u653e\u3002\\n\u4e0d\u8fc7\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u9664\u4e86\u4fdd\u5b58 Class \u6587\u4ef6\u4e2d\u63cf\u8ff0\u7684\u7b26\u53f7\u5f15\u7528\u5916\uff0c\u8fd8\u4f1a\u628a\u7ffb\u8bd1\u51fa\u6765\u7684\u76f4\u63a5\u5f15\u7528\u4e5f\u5b58\u50a8\u5728\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\u4e2d\u3002\\n\\n- \u52a8\u6001\u6027\\nJava \u8bed\u8a00\u5e76\u4e0d\u8981\u6c42\u5e38\u91cf\u4e00\u5b9a\u53ea\u5728\u7f16\u8bd1\u671f\u4ea7\u751f\uff0c\u8fd0\u884c\u671f\u95f4\u4e5f\u53ef\u80fd\u5c06\u65b0\u7684\u5e38\u91cf\u653e\u5165\u6c60\u4e2d\u3002\uff08\u6bd4\u5982\uff1aString \u7684 intern() \u65b9\u6cd5\uff09\\n\\n- \u5f02\u5e38\\n`OutOfMemoryError`\uff1a\u5e38\u91cf\u6c60\u65e0\u6cd5\u518d\u7533\u8bf7\u5230\u5185\u5b58\u65f6\uff0c\u629b\u51fa\\n\\n## \u76f4\u63a5\u5185\u5b58\uff08Direct Memory\uff09\\n**\u76f4\u63a5\u5185\u5b58**\uff1a\u8fd9\u5757\u5185\u5b58\u533a\u57df\uff0c\u4e0d\u662f\u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u4e0d\u662f Java \u865a\u62df\u673a\u89c4\u8303\u4e2d\u5b9a\u4e49\u7684\u5185\u5b58\u533a\u57df\u3002\\nNio \u64cd\u4f5c\u65f6\uff0c\u4e3a\u63d0\u9ad8\u6548\u7387\uff0c\u907f\u514d\u5728 Java \u5806\u548c Native \u5806\u4e2d\u6765\u56de\u590d\u5236\u6570\u636e\uff0c\u8fd0\u884c\u76f4\u63a5\u64cd\u4f5c\u5806\u5916\u5185\uff0c\u5373\u76f4\u63a5\u5185\u5b58\u3002\\n\\n- \u5f02\u5e38\\n`OutOfMemoryError`\uff1a\u865a\u62df\u673a\u8bbe\u7f6e\u7684\u5185\u5b58\u5927\u4e8e\u7269\u7406\u5185\u5b58\u9650\u5236\uff0c\u865a\u62df\u673a\u5185\u5b58\u52a8\u6001\u6269\u5c55\u65f6\u65e0\u6cd5\u8fbe\u5230\u8bbe\u7f6e\u503c\u65f6\uff0c\u629b\u51fa\\n\\n## \u603b\u7ed3\u4e00\u4e0b\\n#### \u6982\u5ff5\u53ca\u8981\u70b9\\n- \u7a0b\u5e8f\u8ba1\u6570\u5668\uff1a\u5b57\u8282\u7801\u7684\u884c\u53f7\u6307\u793a\u5668\\nJava \u65b9\u6cd5\uff1a\u8bb0\u5f55\u5b57\u8282\u7801\u6307\u4ee4\u7684\u5730\u5740\\nNative \u65b9\u6cd5\uff1a\u8bb0\u5f55\u503c\u4e3a\u7a7a\\n\\n- \u865a\u62df\u673a\u6808\uff1aJava \u65b9\u6cd5\u8c03\u7528\u7684\u5185\u5b58\u6a21\u578b\\n\u5b58\u653e**\u6808\u6862**\uff1b\u6808\u6862\u76f8\u5f53\u4e8e\u662f\u5bf9\u65b9\u6cd5\u7684\u63cf\u8ff0\\n\u6808\u6862\uff1a\u5b58\u50a8\u5c40\u90e8\u53d8\u91cf\u8868\u3001\u64cd\u4f5c\u6570\u6808\u3001\u52a8\u6001\u94fe\u8868\u3001\u65b9\u6cd5\u51fa\u53e3\u7b49\u4fe1\u606f\\n\u5c40\u90e8\u53d8\u91cf\u8868\uff1a\u5b58\u653e\u7f16\u8bd1\u671f\u53ef\u77e5\u7684\u5404\u79cd\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3001\u5bf9\u8c61\u5f15\u7528\u3001returnAddress\u7c7b\u578b\\n\\n- \u672c\u5730\u65b9\u6cd5\u6808\uff1aNative \u65b9\u6cd5\u8c03\u7528\u7684\u5185\u5b58\u6a21\u578b\\n\\n- \u5806\uff1a\u5b58\u50a8\u5bf9\u8c61\u5b9e\u4f8b\u7684\u5185\u5b58\u7a7a\u95f4\\n\u5b58\u653e**\u5b9e\u4f8b\u5bf9\u8c61**\uff1b\u7269\u7406\u5730\u5740\u53ef\u4ee5\u4e0d\u8fde\u7eed\\n\u5806\u5185\u5b58\u5212\u5206\uff1a\u65b0\u751f\u4ee3\u3001\u8001\u5e74\u4ee3\uff08Eden \u7a7a\u95f4\u3001From Survivor\u7a7a\u95f4\u3001To Survivor\u7a7a\u95f4\uff09\uff1b\u672c\u5730\u7ebf\u7a0b\u5206\u914d\u7f13\u51b2\\n\\n- \u65b9\u6cd5\u533a\uff1a\u5b58\u50a8\u5bf9\u8c61\u5b9e\u4f8b\u4ee5\u5916\u6570\u636e\u7684\u5185\u5b58\u7a7a\u95f4\\n\u5b58\u50a8\u5df2\u88ab\u865a\u62df\u673a\u52a0\u8f7d\u7684**\u7c7b\u4fe1\u606f**\u3001**\u5e38\u91cf**\u3001**\u9759\u6001\u53d8\u91cf**\u3001**\u5373\u65f6\u7f16\u8bd1\u5668\u7f16\u8bd1\u540e\u7684\u4ee3\u7801**\u7b49\u6570\u636e\\n\u7c7b\u4fe1\u606f\uff1a\u5b58\u50a8\u7c7b\u540d\u3001\u8bbf\u95ee\u4fee\u9970\u7b26\u3001\u5e38\u91cf\u6c60\u3001\u5b57\u6bb5\u63cf\u8ff0\u3001\u65b9\u6cd5\u63cf\u8ff0\u7b49\\n\u8fd0\u884c\u65f6\u5e38\u91cf\u6c60\uff1a\u5b58\u653e Class \u6587\u4ef6\u4e2d\u7684\u5e38\u91cf\u6c60\uff08\u5305\u542b\uff1a\u5b57\u9762\u91cf\u3001\u7b26\u53f7\u5f15\u7528\uff09\u3001\u76f4\u63a5\u5f15\u7528\uff1b\u5177\u6709\u52a8\u6001\u6027\\n\\n\\n#### \u540c\u6b65\u7b56\u7565\\n- \u7ebf\u7a0b\u79c1\u6709\uff1a\u7a0b\u5e8f\u8ba1\u6570\u5668\u3001\u865a\u62df\u673a\u6808\u3001\u672c\u5730\u65b9\u6cd5\u6808\\n- \u7ebf\u7a0b\u5171\u4eab\uff1a\u5806\u3001\u65b9\u6cd5\u533a\\n\\n#### \u5f02\u5e38\\n- \u7a0b\u5e8f\u8ba1\u6570\u5668\uff1a\u65e0\u5f02\u5e38\\n- \u865a\u62df\u673a\u6808\uff1a`StackOverflowError`\u3001`OutOfMemoryError`\\n- \u672c\u5730\u65b9\u6cd5\u6808\uff1a`StackOverflowError`\u3001`OutOfMemoryError`\\n- \u5806\uff1a`OutOfMemoryError`\\n- \u65b9\u6cd5\u533a\uff1a`OutOfMemoryError`\\n- \u76f4\u63a5\u5185\u5b58\uff1a`OutOfMemoryError`\\n\\n---\\n\\n\u53c2\u8003\uff1a\u300a\u6df1\u5165\u7406\u89e3Java\u865a\u62df\u673a\u300b"},{"id":"/2018/linux-mac-java-env-setting","metadata":{"permalink":"/blog/2018/linux-mac-java-env-setting","source":"@site/blog/2018/linux-mac-java-env-setting.md","title":"Linux/Mac \u914d\u7f6e Java \u73af\u5883","description":"\u4e00\u3001\u4e0b\u8f7d\u5e76\u89e3\u538b JDK","date":"2018-05-27T00:00:00.000Z","formattedDate":"2018\u5e745\u670827\u65e5","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"mac","permalink":"/blog/tags/mac"},{"label":"java","permalink":"/blog/tags/java"}],"readingTime":3.26,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Linux/Mac \u914d\u7f6e Java \u73af\u5883","authors":"Duke Lu","date":"2018-05-27T00:00:00.000Z","tags":["linux","mac","java"]},"unlisted":false,"prevItem":{"title":"Java \u865a\u62df\u673a\u8fd0\u884c\u65f6\u7684\u6570\u636e\u533a\u57df\uff08\u7b80\u5355\u7406\u89e3\uff09","permalink":"/blog/2018/jvm-data-area"},"nextItem":{"title":"Linux/Mac \u914d\u7f6e\u73af\u5883\u53d8\u91cf","permalink":"/blog/2018/linux-mac-env-setting"}},"content":"## \u4e00\u3001\u4e0b\u8f7d\u5e76\u89e3\u538b JDK\\n### 1. \u4e0b\u8f7d JDK\\n\u8fd9\u4e2a\u6ca1\u6709\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u4e00\u822c\u6211\u4eec\u4f7f\u7528 Oracle JDK\uff0c\u5728 Oracle \u5b98\u7f51[\u4e0b\u8f7d\u5bf9\u5e94\u7cfb\u7edf\u7684 JDK \u7248\u672c](https://www.oracle.com/java/technologies/javase-downloads.html)\u5373\u53ef\\n\\n### 2. \u89e3\u538b JDK\\n\\n\u901a\u5e38\uff0c\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u90fd\u662f\u5c06\u8d44\u6e90\u5e93\u7b49\u6587\u4ef6\u653e\u5728 `/usr/local/` \u76ee\u5f55\u4e0b\u3002\u8fd9\u91cc\u51fa\u4e8e\u4e2a\u4eba\u4e60\u60ef\uff0c\u6211\u4e00\u822c\u5c06\u975e\u7cfb\u7edf\u7684\u8f6f\u4ef6\u548c\u8d44\u6e90\u7b49\u653e\u5728 `/opt/` \u76ee\u5f55\u4e0b\uff0c\u6240\u4ee5\u5c06\u521a\u521a\u4e0b\u8f7d\u7684 JDK \u79fb\u52a8\u5230 /opt/ \u76ee\u5f55\u4e0b\u5e76\u89e3\u538b\\n```\\nmkdir /opt/jdk\\nmv ./jdk-8u241-linux-x64.tar.gz /opt/jdk\\ncd /opt/jdk\\ntar -zxvf jdk-8u241-linux-x64.tar.gz\\n```\\n\\n---\\n\\n## \u4e8c\u3001\u914d\u7f6e Java \u73af\u5883\u53d8\u91cf\\n### 1. Java \u73af\u5883\u53d8\u91cf\u8bf4\u660e\\n\u914d\u7f6e Java \u73af\u5883\u53d8\u91cf\uff0c\u4f1a\u914d\u7f6e `JAVA_HOME`\u3001`CLASSPATH`\u3001`PATH` 3 \u4e2a\u73af\u5883\u53d8\u91cf\uff0c\u4e0b\u9762\u662f\u5b83\u4eec\u7684\u7b80\u5355\u8bf4\u660e\uff1a\\n1. `JAVA_HOME` \u73af\u5883\u53d8\u91cf\uff1a\u6307\u5b9a JDK \u7684\u5b89\u88c5\u76ee\u5f55\u3002Eclipse/IDEA/Tomcat \u7b49\u8f6f\u4ef6\u5c31\u662f\u901a\u8fc7\u641c\u7d22 JAVA_HOME \u53d8\u91cf\u6765\u627e\u5230\u5e76\u4f7f\u7528\u5b89\u88c5\u597d\u7684 JDK\u3002\\n2. `CLASSPATH` \u73af\u5883\u53d8\u91cf\uff1a\u6307\u5b9a\u7c7b\u641c\u7d22\u8def\u5f84\u3002JVM \u5c31\u662f\u901a\u8fc7CLASSPTH \u6765\u5bfb\u627e\u7c7b\u7684\u3002\u6211\u4eec \u9700\u8981\u628a JDK \u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 lib \u5b50\u76ee\u5f55\u4e2d\u7684 dt.jar \u548c tools.jar \u8bbe\u7f6e\u5230 CLASSPATH \u4e2d\u3002\u5f53\u7136\uff0c\u5f53\u524d\u76ee\u5f55 \u201c.\u201d \u4e5f\u5fc5\u987b\u52a0\u5165\u5230\u8be5\u53d8\u91cf\u4e2d\u3002\\n3. `PATH` \u73af\u5883\u53d8\u91cf\uff1a\u6307\u5b9a\u547d\u4ee4\u641c\u7d22\u8def\u5f84\u3002\u5728 Shell \u4e0b\u9762\u6267\u884c\u547d\u4ee4\u65f6\uff0c\u5b83\u4f1a\u5230 PATH \u53d8\u91cf\u6240\u6307\u5b9a\u7684\u8def\u5f84\u4e2d\u67e5\u627e\u770b\u662f\u5426\u80fd\u627e\u5230\u76f8\u5e94\u7684\u547d\u4ee4\u7a0b\u5e8f\u3002\u6211\u4eec\u9700\u8981\u628a JDK \u5b89\u88c5\u76ee\u5f55\u4e0b\u7684 bin \u76ee\u5f55\u589e\u52a0\u5230\u73b0\u6709\u7684 PATH \u53d8\u91cf\u4e2d\uff0cbin \u76ee\u5f55\u4e2d\u5305\u542b\u7ecf\u5e38\u8981\u7528\u5230\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\\n\\n### 2. \u5199\u5165 Java \u73af\u5883\u53d8\u91cf\\n\u73af\u5883\u53d8\u91cf\u901a\u5e38\u6709 3 \u4e2a\u7ea7\u522b\uff1a\u7cfb\u7edf\u7ea7\u3001\u7528\u6237\u7ea7\u3001\u4e34\u65f6\uff08\u5173\u4e8e\u73af\u5883\u53d8\u91cf\u53ef\u4ee5\u53c2\u8003\uff1a[Linux/Mac \u914d\u7f6e\u73af\u5883\u53d8\u91cf](https://www.cnblogs.com/dukelu/p/12351362.html)\uff09\u3002\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u573a\u666f\u7075\u6d3b\u914d\u7f6e\\n- \u7cfb\u7edf\u7ea7\uff1a\u5bf9\u6240\u6709\u7528\u6237\u751f\u6548\uff0c\u5728 `/etc/profile` \u6587\u4ef6\u8ffd\u52a0 Java \u73af\u5883\u53d8\u91cf\\n  ```\\n  # Java\\n  export JAVA_HOME=/opt/jdk/jdk1.8.0_241\\n  export PATH=$JAVA_HOME/bin:$PATH\\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n  ```\\n  ps: \u4fdd\u5b58\u6587\u4ef6\u540e\uff0c\u8bb0\u5f97 `source /etc/profile`\uff0c\u4f7f\u5199\u5165\u7684\u914d\u7f6e\u751f\u6548\\n\\n- \u7528\u6237\u7ea7\uff1a\u4ec5\u5bf9\u5f53\u524d\u7528\u6237\u751f\u6548\uff0c\u5728 `\uff5e/.bash_profile` \u6216 `\uff5e/.bashrc` \u6587\u4ef6\u8ffd\u52a0 Java \u73af\u5883\u53d8\u91cf\\n  ```\\n  # Java\\n  export JAVA_HOME=/opt/jdk/jdk1.8.0_241\\n  export PATH=$JAVA_HOME/bin:$PATH\\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n  ```\\n  ps: \u4fdd\u5b58\u6587\u4ef6\u540e\uff0c\u8bb0\u5f97 `source \uff5e/.bash_profile` \u6216 `source \uff5e/.bashrc`\uff0c\u4f7f\u5199\u5165\u7684\u914d\u7f6e\u751f\u6548\\n\\n- \u4e34\u65f6\uff1a\u4ec5\u5bf9\u5f53\u524d\u7528\u6237\u4e34\u65f6\u751f\u6548\uff0c\u9000\u51fa\u540e\u88ab\u7cfb\u7edf\u6e05\u7406\uff0c\u5728\u547d\u4ee4\u884c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5373\u53ef\\n  ```\\n  export JAVA_HOME=/opt/jdk/jdk1.8.0_241\\n  export PATH=$JAVA_HOME/bin:$PATH\\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n  ```\\n  ps: \u914d\u7f6e\u4e34\u65f6\u73af\u5883\u53d8\u91cf\uff0c\u4e00\u822c\u7528\u4e8e\u8c03\u8bd5\u4f7f\u7528\uff0c\u4e0d\u5efa\u8bae\u7528\u8fd9\u79cd\u65b9\u5f0f\u914d\u7f6e\\n\\n---\\n\\n## \u4e09\u3001\u9a8c\u8bc1\u662f\u5426\u914d\u7f6e\u6210\u529f\\n\u9a8c\u8bc1 Java \u73af\u5883\u662f\u5426\u914d\u7f6e\u6210\u529f\uff0c\u53ea\u9700\u8fd0\u884c\u547d\u4ee4 `java -versiong`\uff0c\u8fd4\u56de\u5e76\u663e\u793a\u6709 JDK \u7248\u672c\u53f7\u5c31\u8bf4\u660e Java \u73af\u5883\u5df2\u7ecf\u914d\u7f6e\u6210\u529f\u4e86"},{"id":"/2018/linux-mac-env-setting","metadata":{"permalink":"/blog/2018/linux-mac-env-setting","source":"@site/blog/2018/linux-mac-env-setting.md","title":"Linux/Mac \u914d\u7f6e\u73af\u5883\u53d8\u91cf","description":"\u6982\u8ff0","date":"2018-05-26T00:00:00.000Z","formattedDate":"2018\u5e745\u670826\u65e5","tags":[{"label":"linux","permalink":"/blog/tags/linux"},{"label":"mac","permalink":"/blog/tags/mac"}],"readingTime":1.7,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Linux/Mac \u914d\u7f6e\u73af\u5883\u53d8\u91cf","authors":"Duke Lu","date":"2018-05-26T00:00:00.000Z","tags":["linux","mac"]},"unlisted":false,"prevItem":{"title":"Linux/Mac \u914d\u7f6e Java \u73af\u5883","permalink":"/blog/2018/linux-mac-java-env-setting"},"nextItem":{"title":"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin \'caching_sha2_password\' cannot be loaded...","permalink":"/blog/2018/mysql-connection-error"}},"content":"## \u6982\u8ff0\\n\\nLinux/Mac \u5747\u662f Unix \u7c7b\u578b\u7684\u7cfb\u7edf\uff0c\u6545\u5b83\u4eec\u914d\u7f6e\u73af\u5883\u53d8\u91cf\u7684\u65b9\u5f0f\u57fa\u672c\u4e00\u81f4\uff0c\u901a\u5e38\u73af\u5883\u53d8\u91cf\u6709\u4ee5\u4e0b\u4e09\u79cd\u7ea7\u522b\uff1a\\n\\n- \u7cfb\u7edf\u7ea7\u73af\u5883\u53d8\u91cf\uff1a\u914d\u7f6e\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5bf9\u6240\u6709\u7528\u6237\u751f\u6548\\n- \u7528\u6237\u7ea7\u73af\u5883\u53d8\u91cf\uff1a\u914d\u7f6e\u7684\u73af\u5883\u53d8\u91cf\uff0c\u4ec5\u5bf9\u5f53\u524d\u7528\u6237\u751f\u6548\\n- \u4e34\u65f6\u5883\u53d8\u91cf\uff1a\u914d\u7f6e\u7684\u73af\u5883\u53d8\u91cf\uff0c\u5f53\u524d\u7528\u6237\u751f\u6548\uff0c\u9000\u51fa\u540e\u73af\u5883\u53d8\u91cf\u88ab\u6e05\u9664\\n\\n> \u4f18\u5148\u7ea7\uff1a\u4e34\u65f6 > \u7528\u6237\u7ea7 > \u7cfb\u7edf\u7ea7\uff0c\u4f18\u5148\u7ea7\u9ad8\u7684\u4f1a\u8986\u76d6\u4f18\u5148\u7ea7\u4f4e\u7684\u73af\u5883\u53d8\u91cf\\n\\n## \u7cfb\u7edf\u7ea7\u73af\u5883\u53d8\u91cf\\n\\n\u914d\u7f6e\u7cfb\u7edf\u7ea7\u73af\u5883\u53d8\u91cf\uff0c\u4fee\u6539 `/etc/profile` \u6587\u4ef6\u5373\u53ef\\n\\n- \u7f16\u8f91 `/etc/profile` \u6587\u4ef6\\n  ```\\n  vi /etc/profile  \\n  ```\\n- \u5199\u5165\u73af\u5883\u53d8\u91cf\uff08\u8fd9\u91cc\u4ee5\u914d\u7f6e Java \u73af\u5883\u53d8\u91cf\u4e3a\u4f8b\uff09\\n  ```\\n  # Java\\n  export JAVA_HOME=/opt/jdk/jdk1.8.0_241\\n  export PATH=$JAVA_HOME/bin:$PATH\\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n  ```\\n\\n- \u4f7f\u73af\u5883\u53d8\u91cf\u751f\u6548\\n  ```\\n  source /etc/profile  \\n  ```\\n  \\n## \u7528\u6237\u7ea7\u73af\u5883\u53d8\u91cf\\n\u914d\u7f6e\u7cfb\u7edf\u7ea7\u73af\u5883\u53d8\u91cf\uff0c\u4fee\u6539 `\uff5e/.bash_profile` \u6216 `\uff5e/.bashrc` \u6587\u4ef6\u5373\u53ef\uff0c`.bash_profile` \u548c `.bashrc` \u6709\u4ec0\u4e48\u4e0d\u7528\u53ef\u4ee5\u53c2\u8003\u8fd9\u7bc7\u6587\u7ae0\uff1a[\u5173\u4e8e\u201c.bash_profile\u201d\u548c\u201c.bashrc\u201d\u533a\u522b\u7684\u603b\u7ed3](https://blog.csdn.net/sch0120/article/details/70256318)\\n\\n- \u7f16\u8f91 `\uff5e/.bash_profile` \u6587\u4ef6\\n  ```\\n  vi \uff5e/.bash_profile\\n  ```\\n- \u5199\u5165\u73af\u5883\u53d8\u91cf\uff08\u8fd9\u91cc\u4ee5\u914d\u7f6e Java \u73af\u5883\u53d8\u91cf\u4e3a\u4f8b\uff09\\n  ```\\n  # Java\\n  export JAVA_HOME=/opt/jdk/jdk1.8.0_241\\n  export PATH=$JAVA_HOME/bin:$PATH\\n  export CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n  ```\\n\\n- \u4f7f\u73af\u5883\u53d8\u91cf\u751f\u6548\\n  ```\\n  source \uff5e/.bash_profile\\n  ```\\n\\n## \u4e34\u65f6\u73af\u5883\u53d8\u91cf\\n\u914d\u7f6e\u4e34\u65f6\u73af\u5883\u53d8\u91cf\uff0c\u4ec5\u9700\u4f7f\u7528 `export` \u547d\u4ee4\u5373\u53ef\\n```\\nexport JAVA_HOME=/opt/jdk/jdk1.8.0_241\\nexport PATH=$JAVA_HOME/bin:$PATH\\nexport CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar  \\n```"},{"id":"/2018/mysql-connection-error","metadata":{"permalink":"/blog/2018/mysql-connection-error","source":"@site/blog/2018/mysql-connection-error.md","title":"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin \'caching_sha2_password\' cannot be loaded...","description":"\u95ee\u9898","date":"2018-05-20T00:00:00.000Z","formattedDate":"2018\u5e745\u670820\u65e5","tags":[{"label":"mysql","permalink":"/blog/tags/mysql"}],"readingTime":1.685,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin \'caching_sha2_password\' cannot be loaded...","authors":"Duke Lu","date":"2018-05-20T00:00:00.000Z","tags":["mysql"]},"unlisted":false,"prevItem":{"title":"Linux/Mac \u914d\u7f6e\u73af\u5883\u53d8\u91cf","permalink":"/blog/2018/linux-mac-env-setting"},"nextItem":{"title":"MySQL 8.0 \u5b89\u88c5\uff08CentOS 7\uff09","permalink":"/blog/2018/mysql-install-centos7"}},"content":"## \u95ee\u9898\\n\u4f7f\u7528 Navicat \u8fde\u63a5 MySQL \u6570\u636e\u5e93\u65f6\uff0c\u51fa\u73b0\u4ee5\u4e0b\u62a5\u9519\u63d0\u793a\uff1a\\n```\\n2059 - authentication plugin \'caching_sha2_password\' cannot be loaded...\\n```\\n\u8fd9\u4e2a\u62a5\u9519\uff0c\u4e2d\u6587\u610f\u601d\u5c31\u662f\uff1a\u6743\u9650\u63d2\u4ef6 `caching_sha2_password` \u4e0d\u80fd\u88ab\u52a0\u8f7d\\n\\n\u901a\u8fc7\u67e5\u9605 [MySQL \u7684\u5b98\u65b9\u53c2\u8003\u6587\u6863](https://dev.mysql.com/doc/refman/8.0/en/pluggable-authentication.html#pluggable-authentication-compatibility)\uff0c\u6211\u4eec\u770b\u5230\u8fd9\u6837\u7684\u4e00\u6bb5\u63cf\u8ff0\uff1a\\n> - In MySQL 5.7, libmysqlclient uses as its default choice either mysql_native_password or the plugin specified through the MYSQL_DEFAULT_AUTH option for mysql_options().\\n> - When a 5.7 client tries to connect to an 8.0 server, the server specifies caching_sha2_password as its default authentication plugin, but the client still sends credential details per either mysql_native_password or whatever is specified through MYSQL_DEFAULT_AUTH.\\n\\n\u4ece\u8fd9\u91cc\uff0c\u6211\u4eec\u5c31\u660e\u767d\u4e86\uff1a\\n- 8.0 \u4ee5\u524d\u7684\u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u662f `mysql_native_password`\\n- 8.0 \u4ee5\u540e\u7684\u9ed8\u8ba4\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u662f `caching_sha2_password`\\n\\n\u8fd9\u91cc\u4f1a\u62a5\u9519\u7684\u539f\u56e0\u5728\u4e0a\u9762\u4e5f\u63d0\u5230\u4e86\uff1a5.7 \u7684\u5ba2\u6237\u7aef\u53bb\u8fde\u63a5 8.0 \u7684\u670d\u52a1\u7aef\uff0c\u56e0\u4e3a\u9ed8\u8ba4\u7684\u8eab\u4efd\u9a8c\u8bc1\u63d2\u4ef6\u4e0d\u540c\uff0c\u6545\u4f1a\u9020\u6210\u63d2\u4ef6\u4e0d\u80fd\u52a0\u8f7d\u7684\u9519\u8bef\\n\\n\u8bf4\u660e\u4e00\u4e0b\uff1a\u76ee\u524d\u5927\u591a\u6570\u7684 MySQL \u5ba2\u6237\u7aef\u90fd\u8fd8\u6ca1\u6709\u5347\u7ea7\u4e3a 8.0 \u7684\u8ba4\u8bc1\u65b9\u5f0f\uff0c\u6545\u50cf Navicat\u3001Sequel Pro\u3001SQLyog \u7b49\u8fd9\u4e9b\u5e38\u7528\u7684\u8fde\u63a5\u5de5\u5177\uff0c\u90fd\u6709\u53ef\u80fd\u51fa\u73b0\u8fd9\u4e2a\u95ee\u9898\\n\\n## \u89e3\u51b3\\n\u5c06 MySQL 8.0 \u7684\u8eab\u4efd\u8ba4\u8bc1\u63d2\u4ef6\u6539\u56de\u4e3a `mysql_native_password`\\n- \u4fee\u6539 \u8eab\u4efd\u8ba4\u8bc1\u63d2\u4ef6\u4e3a `mysql_native_password`\\n    ```\\n    ALTER USER \'root\'@\'%\' IDENTIFIED WITH mysql_native_password BY \'123456\';\\n    ```\\n\\n- \u5237\u65b0\u6743\u9650\\n    ```\\n    FLUSH PRIVILEGES;\\n    ```\\nOK\uff0c\u73b0\u5728\u518d\u7528 Navicat \u53bb\u8fde\u63a5 MySQL \u4fbf\u53ef\u4ee5\u6210\u529f\u4e86"},{"id":"/2018/mysql-install-centos7","metadata":{"permalink":"/blog/2018/mysql-install-centos7","source":"@site/blog/2018/mysql-install-centos7.md","title":"MySQL 8.0 \u5b89\u88c5\uff08CentOS 7\uff09","description":"\u4e0b\u8f7d MySQL \u538b\u7f29\u5305\u5e76\u4e0a\u4f20\u670d\u52a1\u5668","date":"2018-05-19T00:00:00.000Z","formattedDate":"2018\u5e745\u670819\u65e5","tags":[{"label":"markdown","permalink":"/blog/tags/markdown"}],"readingTime":2.95,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"MySQL 8.0 \u5b89\u88c5\uff08CentOS 7\uff09","authors":"Duke Lu","date":"2018-05-19T00:00:00.000Z","tags":["markdown"]},"unlisted":false,"prevItem":{"title":"\u8fde\u63a5 MySQL \u62a5\u9519\uff1a2059 - authentication plugin \'caching_sha2_password\' cannot be loaded...","permalink":"/blog/2018/mysql-connection-error"},"nextItem":{"title":"\u8bbf\u95ee Redis\uff0c\u63d0\u793a\u8fdb\u5165\u4fdd\u62a4\u6a21\u5f0f","permalink":"/blog/2018/redis-protected-mode"}},"content":"## \u4e0b\u8f7d MySQL \u538b\u7f29\u5305\u5e76\u4e0a\u4f20\u670d\u52a1\u5668\\n\u4e0b\u8f7d\u5730\u5740\uff1a[MySQL :: Download MySQL Community Server](https://dev.mysql.com/downloads/mysql/)\\n\\n## \u5b89\u88c5 MySQL\\n1. \u4e3a\u7cfb\u7edf\u521b\u5efa MySQL \u7528\u6237\u7ec4\\n```\\ngroupadd mysql\\nuseradd -r -g mysql -s /bin/false mysql\\n```\\n\\n2. \u521b\u5efa MySQL \u5b89\u88c5\u76ee\u5f55\u3001\u6570\u636e\u76ee\u5f55\\n```\\nmkdir -p /usr/local/mysql\\nmkdir -p /usr/local/mysql/data\\n```\\n\\n3. \u89e3\u538b MySQL \u538b\u7f29\u5305\u81f3\u5b89\u88c5\u76ee\u5f55\\n```\\ntar -xvf mysql-8.0.15-linux-glibc2.12-x86_64.tar.xz -C /usr/local/mysql --strip-components 1\\n```\\n\\n4. \u8fdb\u5165 MySQL \u5b89\u88c5\u76ee\u5f55\uff0c\u521d\u59cb\u5316 MySQL \uff08\u8bbe\u7f6e user\u3001basedir\u3001datadir\uff09\\n```\\ncd /usr/local/mysql \\n./bin/mysqld --user=mysql --basedir=/usr/local/mysql --datadir=/usr/local/mysql/data --initialize\\n```\\n\u6ce8\u610f\uff1a\u521d\u59cb\u5316\u540e\uff0c\u8bb0\u5f97\u8bb0\u5f55 MySQL \u7684\u521d\u59cb\u5bc6\u7801\\n\\n5. \u521b\u5efa MySQL \u547d\u4ee4\u8f6f\u94fe\u63a5\\n```\\nln -s /usr/local/mysql/bin/mysql /usr/bin/mysql\\n```\\n\\n6. \u4fee\u6539\u76f8\u5173\u914d\u7f6e\u6587\u4ef6\\n- \u4fee\u6539 `/etc/my.conf` \u914d\u7f6e\u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a\\n```\\n[mysqld]\\nbasedir=/usr/local/mysql\\ndatadir=/usr/local/mysql/data\\nsocket=/var/lib/mysql/mysql.sock\\n# Disabling symbolic-links is recommended to prevent assorted security risks\\nsymbolic-links=0\\n# Settings user and group are ignored when systemd is used.\\n# If you need to run mysqld under a different user or group,\\n# customize your systemd unit file for mariadb according to the\\n# instructions in http://fedoraproject.org/wiki/Systemd\\n\\n\\n[mysqld_safe]\\nlog-error=/var/log/mysql/mysql.log\\npid-file=/var/run/mysql/mysql.pid\\n\\n\\n#\\n# include all files from the config directory\\n#\\n!includedir /etc/my.cnf.d\\n```\\n\\n- \u62f7\u8d1d\u5e76\u4fee\u6539 `/etc/init.d/mysqld` \u6587\u4ef6\\n```\\ncp /usr/local/mysql/support-files/mysql.server /etc/init.d/mysqld\\n```\\n\\n\u4fee\u6539\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n```\\nbasedir=/usr/local/mysql\\ndatadir=/usr/local/mysql/data\\n```\\n\\n7. \u521b\u5efa MySQL \u65e5\u5fd7\u6587\u4ef6\u3001\u8fdb\u7a0b\u6587\u4ef6\uff0c\u5e76\u8fdb\u884c\u76f8\u5173\u8d4b\u6743\\n\u521b\u5efa /var/log/mysql/mysql.log \u3001 /var/run/mysql/mysql.pid\\n```\\nmkdir -p /var/log/mysql\\nmkdir -p /var/run/mysql\\ntouch /var/log/mysql/mysql.log\\ntouch /var/run/mysql/mysql.pid\\n\\nchown -R mysql:mysql /var/log/mysql\\nchown -R mysql:mysql /var/run/mysql\\nchmod 750 /var/log/mysql/mysql.log\\nchmod 750 /var/run/mysql/mysql.pid\\n```\\n\\n8. \u4e3a mysql.sock \u6587\u4ef6\u521b\u5efa\u8f6f\u94fe\u63a5\uff0c\u5e76\u4e3a\u76f8\u5e94\u6587\u4ef6\u5939\u8d4b\u6743\\n```\\nchown -R mysql:mysql /var/lib/mysql\\nln -s /var/lib/mysql/mysql.sock /tmp/mysql.sock\\n```\\n\\n\u5230\u8fd9\u91cc\uff0cMySQL \u7684\u5b89\u88c5\u5c31\u5b8c\u6210\u4e86\uff0c\u53ef\u4ee5\u542f\u52a8 MySQL \u4e86\uff0c\u76f8\u5173\u547d\u4ee4\u5982\u4e0b\uff1a\\n```\\nservice mysqld start --\u542f\u52a8mysql\\nservice mysqld stop --\u5173\u95edmysql\\nservice mysqld restart --\u91cd\u542fmysql\\n```\\n\\n## \u5bf9 MySQL \u8fdb\u884c\u521d\u59cb\u914d\u7f6e\\n1. \u767b\u9646 mysql\uff0c\u7528\u5230\u521d\u59cb\u5316\u65f6\u8bb0\u5f55\u7684\u5bc6\u7801\\n```\\nmysql -uroot -p\\n```\\n\\n2. \u4fee\u6539 root \u7528\u6237\u5bc6\u7801\u4e3a\uff1a root\\n```\\nALTER USER \'root\'@\'localhost\' IDENTIFIED WITH mysql_native_password BY \'root\';\\n```\\n\\n3. \u5f00\u542f\u8fdc\u7a0b\u8bbf\u95ee\\n```\\nGRANT ALL ON *.* TO \'root\'@\'%\';\\n```\\n\\n\u62a5\u9519\uff1a\u521b\u5efa\u4e00\u4e2a root \u7528\u6237\uff0c\u5e76\u5f00\u542f\u8fdc\u7a0b\u8bbf\u95ee\\n```\\nCREATE USER \'root\'@\'%\' IDENTIFIED BY \'root\'; --\u521b\u5efaroot\u7528\u6237\uff0chost\u4e3a%\\nGRANT ALL PRIVILEGES ON *.* TO \'root\'@\'%\' WITH GRANT OPTION;\\n```\\n\\n\u5c06\u521a\u521a\u521b\u5efa\u7684 root \u7528\u6237\uff0c\u5bc6\u7801\u4fee\u6539\u4e3a\uff1aroot\\n```\\nALTER USER \'root\'@\'%\' IDENTIFIED WITH mysql_native_password BY \'root\';\\n```\\n\\n4. \u5237\u65b0\u6743\u9650\\n```\\nFLUSH PRIVILEGES;\\n```\\n\\n## \u9632\u706b\u5899\u8bbe\u7f6e\\n- \u5185\u7f51\u73af\u5883\uff0c\u53ef\u4ee5\u76f4\u63a5\u8003\u8651\u5173\u95ed\u9632\u706b\u5899\\n```\\nsystemctl stop firewalld.service --\u5173\u95ed\u9632\u706b\u5899\\n```\\n\\n- \u5916\u7f51\u73af\u5883\uff0c\u5efa\u8bae\u5f00\u542f 3306 \u7aef\u53e3\u5373\u53ef\\n```\\nfirewall-cmd \u2014zone=public \u2014add-port=3306/tcp \u2014permanent -\u2014\u6dfb\u52a03306\u7aef\u53e3\\nfirewall-cmd \u2014reload --\u91cd\u542f\u9632\u706b\u5899\u89c4\u5219\\n```\\n\\n---\\n\\n\u53c2\u8003\uff1a[Centos7\u5b89\u88c5Mysql8.0.11 - baidu_27055141\u7684\u535a\u5ba2 - CSDN\u535a\u5ba2](https://blog.csdn.net/baidu_27055141/article/details/80974701)"},{"id":"/2018/redis-protected-mode","metadata":{"permalink":"/blog/2018/redis-protected-mode","source":"@site/blog/2018/redis-protected-mode.md","title":"\u8bbf\u95ee Redis\uff0c\u63d0\u793a\u8fdb\u5165\u4fdd\u62a4\u6a21\u5f0f","description":"\u95ee\u9898","date":"2018-05-12T00:00:00.000Z","formattedDate":"2018\u5e745\u670812\u65e5","tags":[{"label":"redis","permalink":"/blog/tags/redis"}],"readingTime":4.03,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"\u8bbf\u95ee Redis\uff0c\u63d0\u793a\u8fdb\u5165\u4fdd\u62a4\u6a21\u5f0f","authors":"Duke Lu","date":"2018-05-12T00:00:00.000Z","tags":["redis"]},"unlisted":false,"prevItem":{"title":"MySQL 8.0 \u5b89\u88c5\uff08CentOS 7\uff09","permalink":"/blog/2018/mysql-install-centos7"},"nextItem":{"title":"oh-my-zsh \u62a5\u9519\uff1a\u63d0\u793a\u68c0\u6d4b\u5230\u4e0d\u5b89\u5168\u7684\u5b8c\u6210\u76f8\u5173\u76ee\u5f55","permalink":"/blog/2018/oh-my-zsh-unsafe"}},"content":"## \u95ee\u9898\\nRedis protected-mode \u662f3.2 \u4e4b\u540e\u52a0\u5165\u7684\u65b0\u7279\u6027\uff0c\u901a\u8fc7\u53c2\u8003\u914d\u7f6e\u6587\u4ef6\u4e0a\u7684\u8bf4\u660e\uff1a\\n```\\n# When protected mode is on and if:\\n# 1) The server is not binding explicitly to a set of addresses using the \\"bind\\" directive.\\n# 2) No password is configured.\\n```\\n\u53ef\u4ee5\u77e5\u9053\uff0c\u4ee5\u4e0b\u4e24\u79cd\u60c5\u51b5\u4f1a\u5f00\u542f\u4fdd\u62a4\u6a21\u5f0f\uff1a\\n1. \u670d\u52a1\u5668\u6ca1\u6709\u4f7f\u7528\u201cbind\u201d\u6307\u4ee4\u663e\u5f0f\u7ed1\u5b9a\u5230\u4e00\u7ec4\u5730\u5740\\n2. \u6ca1\u6709\u914d\u7f6e\u5bc6\u7801\\n\\n\u4ece\u800c\u4e0d\u80fd\u8fdb\u884c\u8fdc\u7a0b\u8fde\u63a5\uff0c\u5426\u5219\u5c31\u4f1a\u6709\u4ee5\u4e0b\u63d0\u793a\uff1a\\n```\\n-DENIED Redis is running in protected mode because protected mode is enabled, no bind address was specified, no authentication password is requested to clients. In this mode connections are only accepted from the loopback interface. If you want to connect from external computers to Redis you may adopt one of the following solutions: 1) Just disable protected mode sending the command \'CONFIG SET protected-mode no\' from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. 2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to \'no\', and then restarting the server. 3) If you started the server manually just for testing, restart it with the \'--protected-mode no\' option. 4) Setup a bind address or an authentication password. NOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside.\\nConnection closed by foreign host.\\n```\\n\\n## \u89e3\u51b3\\n\u5728\u95ee\u9898\u63cf\u8ff0\u4e2d\uff0c\u5df2\u7ecf\u7ed9\u51fa\u4e86\u76f8\u5e94\u7684\u89e3\u51b3\u65b9\u6848\\n```\\n1) Just disable protected mode sending the command \'CONFIG SET protected-mode no\' from the loopback interface by connecting to Redis from the same host the server is running, however MAKE SURE Redis is not publicly accessible from internet if you do so. Use CONFIG REWRITE to make this change permanent. \\n2) Alternatively you can just disable the protected mode by editing the Redis configuration file, and setting the protected mode option to \'no\', and then restarting the server. \\n3) If you started the server manually just for testing, restart it with the \'--protected-mode no\' option. \\n4) Setup a bind address or an authentication password. \\nNOTE: You only need to do one of the above things in order for the server to start accepting connections from the outside\\n```\\n\\n> 1. \u53d1\u9001\u547d\u4ee4 `CONFIG SET protected-mode no` \uff0c\u8fd9\u79cd\u8bbe\u7f6e\u4e0d\u662f\u6c38\u4e45\u7684\uff0c\u4f46\u53ef\u4ee5\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u4f7f\u4e4b\u6c38\u4e45\u751f\u6548\\n> 2. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 `/etc/redis.conf` \uff0c\u5c06 `protected-mode yes` \u8bbe\u7f6e\u4e3a `no`\\n> 3. \u542f\u52a8\u65f6\u6dfb\u52a0\u9009\u9879 `--protected-mode no`\\n> 4. \u7ed1\u5b9a\u5730\u5740\u6216\u8005\u8bbe\u7f6e\u8ba4\u8bc1\u5bc6\u7801\\n> \u6ce8\u610f\uff1a\u60a8\u53ea\u9700\u8981\u6267\u884c\u4e0a\u8ff0\u64cd\u4f5c\u4e4b\u4e00\uff0c\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u5f00\u59cb\u63a5\u53d7\u6765\u81ea\u5916\u90e8\u7684\u8fde\u63a5\\n\\n\u5176\u5b9e\u6709\u7528\u7684\u5c31 2 \u548c 4 \u4e24\u79cd\u65b9\u5f0f\uff1a\\n1. \u4fee\u6539\u914d\u7f6e\u6587\u4ef6 `/etc/redis.conf` \uff0c\u5c06 `protected-mode yes` \u8bbe\u7f6e\u4e3a `no`\\n    ```\\n    protected-mode no\\n    ```\\n    \u6ce8\u610f\uff1a\u5173\u95ed\u4fdd\u62a4\u6a21\u5f0f\u540e\uff0c\u540c\u65f6\u53c8\u8bbe\u7f6e\u4e86\u7ed1\u5b9a\u5730\u5740\u6216\u8005\u8ba4\u8bc1\u5bc6\u7801\uff0c\u4ecd\u9700\u6ee1\u8db3\u7ed1\u5b9a\u5730\u5740\u548c\u8ba4\u8bc1\u5bc6\u7801\u7684\u6761\u4ef6\uff0c\u624d\u80fd\u8bbf\u95ee redis \u670d\u52a1\\n\\n2. \u7ed1\u5b9a\u5730\u5740\u6216\u8005\u8bbe\u7f6e\u8ba4\u8bc1\u5bc6\u7801\\n- \u7ed1\u5b9a\u5730\u5740\uff1a\u4e0d\u8bbe\u7f6e\uff0c\u9ed8\u8ba4\u5747\u53ef\u8bbf\u95ee\\n    ```\\n    # bind \u53ef\u7ed1\u5b9a\u591a\u4e2a\u4e3b\u673a\u5730\u5740\uff0c\u7c7b\u4f3c\u8fc7\u6ee4\u5668\u7684\u4f5c\u7528\\n    # \u5f53\u914d\u7f6e\u4e3a 0.0.0.0 \u65f6\uff0c\u5141\u8bb8\u4efb\u4f55\u4e3b\u673a\u8bbf\u95ee\\n    bind 127.0.0.1 # \u5141\u8bb8\u672c\u673a\u8bbf\u95ee\\n    bind 45.123.77.99 # \u5141\u8bb8 45.123.77.99 \u7684\u4e3b\u673a\u8bbf\u95ee\\n    ```\\n\\n- \u8bbe\u7f6e\u8ba4\u8bc1\u5bc6\u7801\\n    ```\\n    # \u5b98\u65b9\u63d0\u793a\uff1a\u5bc6\u7801\u5e94\u8be5\u8db3\u591f\u5f3a\u58ee\uff0c\u4e0d\u7136\u5f88\u5bb9\u6613\u88ab\u7834\u89e3\\n    # \u539f\u56e0\u662f\uff1asince Redis is pretty fast -- Redis \u975e\u5e38\u5feb\uff0c\u53ef\u4ee5\u4ee5 150k\u6b21/s \u7684\u901f\u5ea6\u8fdb\u884c\u7834\u89e3\\n    requirepass idukelu\\n    ```\\n\\n\u6ce8\u610f\uff1a\u5373\u7ed1\u5b9a\u4e86\u5730\u5740\uff0c\u53c8\u8bbe\u7f6e\u4e86\u8ba4\u8bc1\u5bc6\u7801\uff0c\u9700\u8981\u6ee1\u8db3\u4e24\u8005\u624d\u80fd\u8bbf\u95ee redis \u670d\u52a1"},{"id":"/2018/oh-my-zsh-unsafe","metadata":{"permalink":"/blog/2018/oh-my-zsh-unsafe","source":"@site/blog/2018/oh-my-zsh-unsafe.md","title":"oh-my-zsh \u62a5\u9519\uff1a\u63d0\u793a\u68c0\u6d4b\u5230\u4e0d\u5b89\u5168\u7684\u5b8c\u6210\u76f8\u5173\u76ee\u5f55","description":"\u95ee\u9898","date":"2018-05-05T00:00:00.000Z","formattedDate":"2018\u5e745\u67085\u65e5","tags":[{"label":"oh-my-zsh","permalink":"/blog/tags/oh-my-zsh"}],"readingTime":2.645,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"oh-my-zsh \u62a5\u9519\uff1a\u63d0\u793a\u68c0\u6d4b\u5230\u4e0d\u5b89\u5168\u7684\u5b8c\u6210\u76f8\u5173\u76ee\u5f55","authors":"Duke Lu","date":"2018-05-05T00:00:00.000Z","tags":["oh-my-zsh"]},"unlisted":false,"prevItem":{"title":"\u8bbf\u95ee Redis\uff0c\u63d0\u793a\u8fdb\u5165\u4fdd\u62a4\u6a21\u5f0f","permalink":"/blog/2018/redis-protected-mode"},"nextItem":{"title":"Markdown \u5907\u5fd8\u5f55","permalink":"/blog/2018/markdown-memo"}},"content":"## \u95ee\u9898\\n\u8fd0\u884c\u547d\u4ee4\u65f6\uff0c`oh-my-zsh` \u5192\u51fa\u4e0b\u9762\u4e00\u5927\u5806\u63d0\u793a\uff1a\\n```\\n[oh-my-zsh] Insecure completion-dependent directories detected:\\ndrwxr-xr-x   16 duke  staff   512 Jul 14 10:14 /Users/duke/.oh-my-zsh\\ndrwxr-xr-x  250 duke  staff  8000 Jul 14 10:14 /Users/duke/.oh-my-zsh/plugins\\ndrwxr-xr-x    4 duke  staff   128 Jul 14 10:14 /Users/duke/.oh-my-zsh/plugins/git\\ndrwxr-xr-x    3 duke  staff    96 Jun 17 11:33 /usr/local/share/zsh\\ndrwxr-xr-x    6 duke  staff   192 Oct  3 10:04 /usr/local/share/zsh/site-functions\\nlrwxr-xr-x    1 duke  staff    39 Jun 17 11:37 /usr/local/share/zsh/site-functions/_brew -> ../../../Homebrew/completions/zsh/_brew\\nlrwxr-xr-x    1 duke  staff    44 Jun 17 11:37 /usr/local/share/zsh/site-functions/_brew_cask -> ../../../Homebrew/completions/zsh/_brew_cask\\nlrwxr-xr-x    1 duke  staff    58 Oct  3 10:04 /usr/local/share/zsh/site-functions/_git -> ../../../Cellar/git/2.19.0_2/share/zsh/site-functions/_git\\n\\n[oh-my-zsh] For safety, we will not load completions from these directories until\\n[oh-my-zsh] you fix their permissions and ownership and restart zsh.\\n[oh-my-zsh] See the above list for directories with group or other writability.\\n\\n[oh-my-zsh] To fix your permissions you can do so by disabling\\n[oh-my-zsh] the write permission of \\"group\\" and \\"others\\" and making sure that the\\n[oh-my-zsh] owner of these directories is either root or your current user.\\n[oh-my-zsh] The following command may help:\\n[oh-my-zsh]     compaudit | xargs chmod g-w,o-w\\n\\n[oh-my-zsh] If the above didn\'t help or you want to skip the verification of\\n[oh-my-zsh] insecure directories you can set the variable ZSH_DISABLE_COMPFIX to\\n[oh-my-zsh] \\"true\\" before oh-my-zsh is sourced in your zshrc file.\\n```\\n\\n\x3c!--truncate--\x3e \\n\\n## \u89e3\u51b3\\n\u95ee\u9898\u7684\u63cf\u8ff0\u4e2d\uff0c\u5176\u5b9e\u5df2\u7ecf\u7ed9\u4e86\u6211\u4eec\u89e3\u51b3\u65b9\u6cd5\uff1a\\n```\\n[oh-my-zsh] To fix your permissions you can do so by disabling\\n[oh-my-zsh] the write permission of \\"group\\" and \\"others\\" and making sure that the\\n[oh-my-zsh] owner of these directories is either root or your current user.\\n[oh-my-zsh] The following command may help:\\n[oh-my-zsh]     compaudit | xargs chmod g-w,o-w\\n\\n[oh-my-zsh] If the above didn\'t help or you want to skip the verification of\\n[oh-my-zsh] insecure directories you can set the variable ZSH_DISABLE_COMPFIX to\\n[oh-my-zsh] \\"true\\" before oh-my-zsh is sourced in your zshrc file.\\n```\\n\\n> \u8981\u4fee\u590d\u6743\u9650\uff0c\u53ef\u4ee5\u901a\u8fc7\u7981\u7528\u201cgroup\u201d\u548c\u201cothers\u201d\u7684\u5199\u5165\u6743\u9650\u5e76\u786e\u4fdd\u8fd9\u4e9b\u76ee\u5f55\u7684\u6240\u6709\u8005\u662froot\u7528\u6237\u6216\u5f53\u524d\u7528\u6237\u6765\u4fee\u590d\u6743\u9650\u3002\\n\u4ee5\u4e0b\u547d\u4ee4\u53ef\u80fd\u6709\u6240\u5e2e\u52a9\uff1a\\ncompaudit | xargs chmod g-w\uff0co-w\\n\u5982\u679c\u4e0a\u9762\u6ca1\u6709\u5e2e\u52a9\uff0c\u6216\u8005\u4f60\u60f3\u8df3\u8fc7\u4e0d\u5b89\u5168\u76ee\u5f55\u7684\u9a8c\u8bc1\uff0c\u4f60\u53ef\u4ee5\u5728\u4f60\u7684zshrc\u6587\u4ef6\u4e2d\u627e\u5230oh-my-zsh\u4e4b\u524d\u5c06\u53d8\u91cfZSH_DISABLE_COMPFIX\u8bbe\u7f6e\u4e3a\u201ctrue\u201d\u3002\\n\\n### \u7b2c\u4e00\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a\u4fee\u6539\u76f8\u5173\u6587\u4ef6\u5939\u6743\u9650\\n\u4e3a\u4ee5\u4e0a\u63d0\u793a\u7684\u6587\u4ef6\u5939\u4fee\u6539\u6743\u9650\uff08\u6839\u636e\u5177\u4f53\u63d0\u793a\u4fee\u6539\uff09\\n```\\nchmod 755 /Users/duke/.oh-my-zsh\\nchmod 755 /Users/duke/.oh-my-zsh/plugins\\nchmod 755 /Users/duke/.oh-my-zsh/plugins/git\\nchmod 755 /usr/local/share/zsh/site-functions\\nchmod 755 /usr/local/share/zsh/site-functions/_brew\\nchmod 755 /usr/local/share/zsh/site-functions/_brew_cask\\nchmod 755 /usr/local/share/zsh/site-functions/_git\\n```\\n\\n### \u7b2c\u4e8c\u79cd\u89e3\u51b3\u65b9\u6cd5\uff1a\u8bbe\u7f6e\u53d8\u91cf ZSH_DISABLE_COMPFIX=true\\n1. \u5728.zshrc\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u6dfb\u52a0 `ZSH_DISABLE_COMPFIX=true`\\n2. \u8fd0\u884csource\u547d\u4ee4\uff0c\u91cd\u65b0\u52a0\u8f7d.zshrc\u6587\u4ef6\\n```\\nsource ~/.zshrc\\n```"},{"id":"/2018/markdown-memo","metadata":{"permalink":"/blog/2018/markdown-memo","source":"@site/blog/2018/markdown-memo.md","title":"Markdown \u5907\u5fd8\u5f55","description":"\u57fa\u7840\u8bed\u6cd5","date":"2018-04-28T00:00:00.000Z","formattedDate":"2018\u5e744\u670828\u65e5","tags":[{"label":"markdown","permalink":"/blog/tags/markdown"}],"readingTime":1.965,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Markdown \u5907\u5fd8\u5f55","authors":"Duke Lu","date":"2018-04-28T00:00:00.000Z","tags":["markdown"]},"unlisted":false,"prevItem":{"title":"oh-my-zsh \u62a5\u9519\uff1a\u63d0\u793a\u68c0\u6d4b\u5230\u4e0d\u5b89\u5168\u7684\u5b8c\u6210\u76f8\u5173\u76ee\u5f55","permalink":"/blog/2018/oh-my-zsh-unsafe"},"nextItem":{"title":"Hexo \u63d2\u4ef6\u8be6\u89e3\uff1ahexo-renderer-markdown-it","permalink":"/blog/2018/hexo-renderer-markdown-it"}},"content":"## \u57fa\u7840\u8bed\u6cd5\\n\u57fa\u7840\u8bed\u6cd5\u662f John Gruber \u7684\u539f\u59cb\u8bbe\u8ba1\u6587\u6863\u4e2d\u6982\u8ff0\u7684\u5143\u7d20\u3002 \\n\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u8fd9\u4e9b\u5143\u7d20\u3002\\n\\n\x3c!--truncate--\x3e \\n\\n| \u5143\u7d20     | Markdown \u8bed\u6cd5                                      |\\n| :------- | :------------------------------------------------- |\\n| \u6807\u9898     | # H1<br/>## H2<br/>### H3                          |\\n| \u7c97\u4f53     | \\\\*\\\\*bold text\\\\*\\\\*                                  |\\n| \u659c\u4f53     | \\\\*italicized text\\\\*                                |\\n| \u5f15\u7528     | > blockquote                                       |\\n| \u4ee3\u7801     | &#96;code&#96;                                     |\\n| \u6c34\u5e73\u7ebf   | \\\\-\\\\-\\\\-                                             |\\n| \u6709\u5e8f\u5217\u8868 | 1. First item<br/>2. Second item<br/>3. Third item |\\n| \u65e0\u5e8f\u5217\u8868 | - First item<br/>- Second item<br/>- Third item    |\\n| \u94fe\u63a5     | `[title](https://www.example.com)`               |\\n| \u56fe\u7247     | \\\\!\\\\[alt text\\\\]\\\\(image.jpg\\\\)                        |\\n\\n\\n## \u6269\u5c55\u8bed\u6cd5\\n\u6269\u5c55\u8bed\u6cd5\u901a\u8fc7\u6dfb\u52a0\u5176\u4ed6\u529f\u80fd\u6269\u5c55\u4e86\u57fa\u672c\u8bed\u6cd5\u3002 \\n\u5e76\u975e\u6240\u6709 Markdown \u5e94\u7528\u7a0b\u5e8f\u90fd\u652f\u6301\u8fd9\u4e9b\u5143\u7d20\u3002\\n\\n| \u5143\u7d20     | Markdown \u8bed\u6cd5                                                                                                       |\\n| :------- | :------------------------------------------------------------------------------------------------------------------ |\\n| \u8868\u683c     | &#124; Syntax &#124; Description &#124;<br/>&#124; \\\\- &#124; \\\\- &#124;<br/>&#124; Header &#124; Title &#124;        |\\n| \u4ee3\u7801\u5757   | \\\\`\\\\`\\\\` <br/>\\\\{<br/>&emsp;\\"firstName\\": \\"John\\",<br/>&emsp;\\"lastName\\": \\"Smith\\",<br/>&emsp;\\"age\\": 25<br/>\\\\}<br/> \\\\`\\\\`\\\\` |\\n| \u811a\u6ce8     | Here\'s a sentence with a footnote. \\\\[^1\\\\] <br/> \\\\[^1\\\\]: This is the footnote.                                       |\\n| \u6807\u9898 ID  | \\\\#\\\\#\\\\# My Great Heading \\\\{\\\\#custom-id\\\\}                                                                             |\\n| \u5220\u9664\u7ebf   | &#126;&#126;The world is flat.&#126;&#126;                                                                          |\\n| \u4efb\u52a1\u5217\u8868 | \\\\- \\\\[x\\\\] Write the press release<br/>\\\\- \\\\[ \\\\] Update the website<br/>\\\\- \\\\[ \\\\] Contact the media                     |\\n\\n\\n## \u8f6c\u4e49\u5b57\u7b26\\n\u53ef\u4ee5\u7528\u53cd\u659c\u7ebf `\\\\` \u8fdb\u884c\u8f6c\u4e49\u7684\u5b57\u7b26\\n\\n| \u540d\u79f0   | \u5b57\u7b26 | \u540d\u79f0 | \u5b57\u7b26 |\\n| :----- | :--: | :--- | :--: |\\n| \u611f\u53f9\u53f7 |  \\\\!  | \u523b\u5ea6 |  \\\\`  |\\n| \u5927\u62ec\u53f7 | \\\\{\\\\} | \u4e95\u53f7 |  \\\\#  |\\n| \u4e2d\u62ec\u53f7 | \\\\[\\\\] | \u661f\u53f7 |  \\\\*  |\\n| \u5c0f\u62ec\u53f7 | \\\\(\\\\) | \u52a0\u53f7 |  \\\\+  |\\n| \u53cd\u659c\u7ebf |  \\\\\\\\  | \u51cf\u53f7 |  \\\\-  |\\n| \u4e0b\u5212\u7ebf |  \\\\_  | \u70b9   |  \\\\.  |\\n\\n\\n\u4e0d\u53ef\u4ee5\u7528\u53cd\u659c\u7ebf `\\\\` \u8fdb\u884c\u8f6c\u4e49\u7684\u5b57\u7b26\\n\\n| \u540d\u79f0   |  \u5b57\u7b26  | HTML \u8f6c\u4e49\u5b57\u7b26 | HTML \u5b9e\u4f53\u7f16\u53f7 |\\n| :----- | :----: | :-----------: | :-----------: |\\n| \u7a7a\u683c   |        |   `&nbsp;`    |   `&#160;`    |\\n| \u5c0f\u4e8e   |  `<`   |    `&lt;`     |    `&#60;`    |\\n| \u5927\u4e8e   |  `>`   |    `&gt;`     |    `&#62;`    |\\n| \u53cc\u5f15\u53f7 |  `\\"`   |   `&quot;`    |    `&#34;`    |\\n| \u5355\u5f15\u53f7 |  `\'`   |   `&apos;`    |    `&#39;`    |\\n| \u548c\u53f7   |  `&`   |    `&amp;`    |    `&#38;`    |\\n| \u7ad6\u7ebf   | &#124; |               |   `&#124;`    |\\n| \u6ce2\u6d6a\u7ebf | &#126; |               |   `&#126;`    |\\n\\n---\\n\\n\u66f4\u591a\u53c2\u8003\uff1a\\n[Markdown Guide/Cheat Sheet](https://www.markdownguide.org/cheat-sheet)"},{"id":"/2018/hexo-renderer-markdown-it","metadata":{"permalink":"/blog/2018/hexo-renderer-markdown-it","source":"@site/blog/2018/hexo-renderer-markdown-it.md","title":"Hexo \u63d2\u4ef6\u8be6\u89e3\uff1ahexo-renderer-markdown-it","description":"\u7b80\u4ecb","date":"2018-04-21T00:00:00.000Z","formattedDate":"2018\u5e744\u670821\u65e5","tags":[{"label":"hexo","permalink":"/blog/tags/hexo"},{"label":"hexo-plugin","permalink":"/blog/tags/hexo-plugin"}],"readingTime":4.88,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Hexo \u63d2\u4ef6\u8be6\u89e3\uff1ahexo-renderer-markdown-it","authors":"Duke Lu","date":"2018-04-21T00:00:00.000Z","tags":["hexo","hexo-plugin"]},"unlisted":false,"prevItem":{"title":"Markdown \u5907\u5fd8\u5f55","permalink":"/blog/2018/markdown-memo"},"nextItem":{"title":"Hexo \u8868\u683c\u6837\u5f0f\u8c03\u6574","permalink":"/blog/2018/hexo-table-css"}},"content":"## \u7b80\u4ecb\\n`hexo-renderer-markdown-it` \u662f\u4e00\u6b3e\u7528\u4e8e Markdown \u89e3\u6790\u548c\u6e32\u67d3\u7684\u63d2\u4ef6\u3002\\n- \u7528\u4e8e\u66ff\u6362 Hexo \u9ed8\u8ba4\u81ea\u5e26\u7684 Markdown \u6e32\u67d3\u5668\u3002\\n- \u63d0\u4f9b\u4e86\u66f4\u4e30\u5bcc\u7684 Markdown \u89e3\u6790\u548c\u6e32\u67d3\u3002\\n\\n\x3c!--truncate--\x3e \\n\\n## \u5b89\u88c5\\n\u6ce8\u610f\uff1a\u8bf7\u786e\u4fdd\u4f60\u5728 Hexo \u4e3b\u76ee\u5f55\u4e0b\u8fdb\u884c\u4ee5\u4e0b\u64cd\u4f5c\u3002\\n1. \u5378\u8f7d Hexo \u9ed8\u8ba4\u81ea\u5e26\u7684 Markdown \u6e32\u67d3\u5668\\n```\\nnpm un hexo-renderer-marked --save\\n```\\n2. \u5b89\u88c5 `hexo-renderer-markdown-it` \u63d2\u4ef6\\n```\\nnpm i hexo-renderer-markdown-it --save\\n```\\n\\n## \u914d\u7f6e\\n`hexo-renderer-markdown-it` \u7684\u6240\u6709\u914d\u7f6e\uff0c\u5747\u5728 Hexo \u7684\u4e3b\u8981\u914d\u7f6e\u6587\u4ef6 `_config.yml` \u4e2d\u8fdb\u884c\u914d\u7f6e\u3002\\n\u914d\u7f6e\u7684\u65b9\u5f0f\uff0c\u4e3b\u8981\u5206\u4e3a\uff1a\\n- \u7b80\u5355\u914d\u7f6e\uff08\u652f\u6301\u4e09\u79cd\u914d\u7f6e\u7ea7\u522b\uff0c\u5f00\u7bb1\u5373\u7528\uff09\\n- \u9ad8\u7ea7\u914d\u7f6e\uff08\u66f4\u8be6\u7ec6\u7684\u5b9a\u5236\uff0c\u6e32\u67d3\u5668\u3001\u63d2\u4ef6\u3001\u951a\uff09\\n\\n### \u7b80\u5355\u914d\u7f6e\\n`hexo-renderer-markdown-it` \u63d0\u4f9b\u4e09\u79cd\u7b80\u5355\u914d\u7f6e\u65b9\u5f0f\uff08\u914d\u7f6e\u7ea7\u522b\uff09`zero`\u3001`default`\u3001`commonmark`\u3002\\n\u5728 Hexo \u7684 `_config.yml` \u6587\u4ef6\u4e2d\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff1a\\n```\\n# Markdown-it config\\n#markdown: \'zero\'\\n#markdown: \'default\'\\nmarkdown: \'commonmark\'\\n```\\n\u6bcf\u79cd\u7b80\u5355\u914d\u7f6e\u6709\u5176\u9ed8\u8ba4\u7684\u4e00\u4e9b\u8bbe\u7f6e\u3002\u66f4\u591a\u4e2a\u6027\u5316\u914d\u7f6e\uff0c\u8bf7\u53c2\u8003\uff1a\u9ad8\u7ea7\u914d\u7f6e\u3002\\n- zero\uff1a\u7981\u7528\u5927\u591a\u6570\u89e3\u6790\u5668\u529f\u80fd\u3002\u4ec5\u652f\u6301\u659c\u4f53\u548c\u7c97\u4f53\uff0c\u751a\u81f3\u4e0d\u652f\u6301\u6240\u6709\u539f\u59cbMarkdown\u529f\u80fd\u3002\\n- default\uff08GFM\uff09\uff1a\u89e3\u6790\u5668\u7684\u884c\u4e3a\u7c7b\u4f3c\u4e8egithub\u89c4\u8303\u3002\\n- commonmark\uff1a\u63d0\u4f9b\u6bd4Zero\u9884\u8bbe\u66f4\u591a\u7684\u529f\u80fd\u3002 \u6b64\u8bbe\u7f6e\u5c06\u5f3a\u5236\u63d2\u4ef6\u4f7f\u7528\u6700\u65b0\u7684CommonMark\u89c4\u8303\u3002\\n\\n\u8b66\u544a\uff1a\u9009\u62e9\u4e00\u79cd\u7b80\u5355\u914d\u7f6e\uff0c\u5c06\u963b\u6b62\u60a8\u4f7f\u7528\u4efb\u4f55\u9644\u5e26\u7684\u63d2\u4ef6\u3002\\n\\n### \u9ad8\u7ea7\u914d\u7f6e\\n`hexo-renderer-markdown-it` \u63d0\u4f9b\u7684\u9ad8\u7ea7\u914d\u7f6e\uff0c\u662f\u5bf9\u7b80\u5355\u914d\u7f6e\u7684\u8be6\u7ec6\u5b9a\u5236\u3002\\n\u5728 Hexo \u7684 `_config.yml` \u6587\u4ef6\u4e2d\u914d\u7f6e\u4ee5\u4e0b\u5185\u5bb9\uff08\u5b98\u65b9\u63d0\u4f9b\u7684\u5b8c\u6574\u914d\u7f6e\uff0c\u6ca1\u6709\u7279\u6b8a\u9700\u8981\u4e0d\u7528\u518d\u6b21\u4fee\u6539\uff09\uff1a\\n```\\n# Markdown-it config\\nmarkdown:\\n  render:\\n    html: true\\n    xhtmlOut: false\\n    breaks: true\\n    linkify: true\\n    typographer: true\\n    quotes: \'\u201c\u201d\u2018\u2019\'\\n  plugins:\\n    - markdown-it-abbr\\n    - markdown-it-footnote\\n    - markdown-it-ins\\n    - markdown-it-sub\\n    - markdown-it-sup\\n  anchors:\\n    level: 2\\n    collisionSuffix: \'v\'\\n    permalink: true\\n    permalinkClass: header-anchor\\n    permalinkSymbol: \xb6\\n```\\n\\n### \u9ad8\u7ea7\u914d\u7f6e\u8be6\u89e3\\n#### \u6e32\u67d3\u5668\uff08render\uff09\\n```\\n# Markdown-it config\\nmarkdown:\\n  render:\\n    html: true\\n    xhtmlOut: false\\n    breaks: true\\n    linkify: true\\n    typographer: true\\n    quotes: \'\u201c\u201d\u2018\u2019\'\\n```\\n- html\uff1a\u5b9a\u4e49\u6587\u6863\u4e2d\u7684HTML\u5185\u5bb9\u662f\u5426\u5e94\u8f6c\u4e49\u6216\u4f20\u9012\u7ed9\u6700\u7ec8\u7ed3\u679c\u3002\\n```\\nhtml: true # \u4e0d\u8f6c\u4e49 HTML \u5185\u5bb9\\nhtml: false # \u8f6c\u4e49 HTML \u5185\u5bb9\uff0c\u4f7f\u6807\u7b7e\u4f5c\u4e3a\u6587\u672c\u8f93\u51fa\\n```\\n\\n- xhtmlOut\uff1a\u5b9a\u4e49\u89e3\u6790\u5668\u662f\u5426\u5c06\u5bfc\u51fa\u5b8c\u5168\u517c\u5bb9XHTML\u7684\u6807\u8bb0\u3002\\n```\\nxhtmlOut: true # \u5fc5\u987b\u4f7f\u7528\u5b8c\u5168\u7684 XHTML \u4ee3\u7801\uff0c\u6362\u884c\u5fc5\u987b\u4e3a <br/>\\nxhtmlOut: false # \u4e0d\u5fc5\u5fc5\u4f7f\u7528\u5b8c\u5168\u7684 XHTML \u4ee3\u7801\uff0c\u6362\u884c\u53ef\u4ee5\u4e3a <br>\\n```\\n- breaks\uff1a\u4f7f\u6e90\u6587\u4ef6\u4e2d\u7684\u6362\u884c\u7b26\u88ab\u89e3\u6790\u4e3a&lt;br&gt;\u6807\u8bb0\u3002\u6bcf\u6b21\u6309Enter\u952e\u90fd\u4f1a\u521b\u5efa\u6362\u884c\u7b26\u3002\\n```\\nbreaks: true # \u6bcf\u6b21\u4f1a\u8f66\u6362\u884c\u76f8\u5f53\u4e8e\u4e00\u4e2a <br/> \u6807\u7b7e\\nbreaks: false # Pa\u6bcf\u6b21\u4f1a\u8f66\u6362\u884c\u4f1a\u88ab\u5ffd\u7565\\n```\\n- linkify\uff1a\u89e3\u6790\u5668\u80fd\u591f\u5c06\u76f4\u63a5\u7c98\u8d34\u5230\u6587\u672c\u4e2d\u7684\u94fe\u63a5\u5185\u8054\u3002\\n```\\nlinkify: true # \u7c7b\u4f3c\u94fe\u63a5\u7684\u6587\u672c\uff0c\u4f5c\u4e3a\u94fe\u63a5\u8f93\u51fa\\nlinkify: false # \u7c7b\u4f3c\u94fe\u63a5\u7684\u6587\u672c\uff0c\u4f9d\u7136\u4f5c\u4e3a\u6587\u672c\u8f93\u51fa\\n```\\n- typographer\uff1a\u53ef\u4ee5\u66ff\u6362\u5e38\u89c1\u7684\u6392\u7248\u5143\u7d20\u3002\\n```\\ntypographer: true # \u66ff\u6362\u5e38\u89c1\u7684\u6392\u7248\u5143\u7d20\\ntypographer: false # \u4e0d\u66ff\u6362\u5e38\u89c1\u7684\u6392\u7248\u5143\u7d20\\n```\\n- quotes\uff1a\u5355\u5f15\u53f7\u3001\u53cc\u5f15\u53f7\u5982\u4f55\u88ab\u66ff\u6362\\n```\\nquotes: \'\u201c\u201d\u2018\u2019\' # \'single\'\u3001\\"double\\" \u53d8\u6210 \u2018single\u2019\u3001\u201cdouble\u201d\\nquotes: \'\xab\xbb\u201c\u201d\' # \'single\'\u3001\\"double\\" \u53d8\u6210 \u201csingle\u201d\u3001\xabsingle\xbb\\n```\\n\\n#### \u63d2\u4ef6\uff08plugins\uff09\\n`hexo-renderer-markdown-it` \u9ed8\u8ba4\u96c6\u62105\u4e2a `markdown-it` \u63d2\u4ef6\\n```\\n# Markdown-it config\\nmarkdown:\\n  plugins:\\n    - markdown-it-abbr\\n    - markdown-it-footnote\\n    - markdown-it-ins\\n    - markdown-it-sub\\n    - markdown-it-sup\\n```\\n- markdown-it-abbr\uff1a\u7f29\u5199\u63d2\u4ef6\\n```\\n*[HTML]: Hyper Text Markup Language\\n*[W3C]:  World Wide Web Consortium\\n\\nThe HTML specification\\nis maintained by the W3C.\\n```\\n- markdown-it-footnote\uff1a\u811a\u6ce8\u63d2\u4ef6\\n```\\nbasic footnote[^1]\\nhere is an inline footnote[^2](inline footnote)\\nand another one[^3]\\nand another one[^4]\\n\\n[^1]: basic footnote content\\n[^3]: paragraph\\nfootnote\\ncontent\\n[^4]: footnote content with some [markdown](https://en.wikipedia.org/wiki/Markdown)\\n```\\n- markdown-it-ins\uff1a\u63d2\u5165\u63d2\u4ef6\uff08\u4e0b\u5212\u7ebf\u63d2\u4ef6\uff09\\n```\\n++inserted++ => <ins>inserted</ins>\\n```\\n- markdown-it-sub\uff1a\u4e0b\u6807\u63d2\u4ef6\\n```\\nH~2~0 => H<sub>2</sub>O\\n```\\n- markdown-it-sup\uff1a\u4e0a\u6807\u63d2\u4ef6\\n```\\n29^th^ => 29<sup>th</sup>\\n```\\n\\n#### \u951a\uff08anchors\uff09\\n\u53ef\u80fd\u81ea\u5df1\u4e0d\u4f1a\u7528\uff0c\u56e0\u6b64\uff0c\u6ca1\u592a\u5173\u6ce8\u8fd9\u4e2a\u529f\u80fd\\n```\\n# Markdown-it config\\nmarkdown:\\n  anchors:\\n    level: 2\\n    collisionSuffix: \'v\'\\n    permalink: true\\n    permalinkClass: header-anchor\\n    permalinkSymbol: \xb6\\n```\\n- level\uff1a\u751f\u6210 Heading ID \u7684\u6807\u9898\u7b49\u7ea7\\n- collisionSuffix\uff1aHeading ID \u91cd\u590d\u65f6\uff0c\u6570\u5b57\u7684\u540e\u7f00\\n- permalink\uff1a\'true\'\uff0c\u5219\u521b\u5efa\u4e00\u4e2a\u951a\u6807\u8bb0\uff0c\u9664\u6807\u9898\u5916\u8fd8\u6709\u4e00\u4e2a\u56fa\u5b9a\u94fe\u63a5\\n- permalinkClass\uff1a\u7528\u4e8e\u56fa\u5b9a\u94fe\u63a5\u951a\u6807\u8bb0\u7684\u6837\u5f0f\\n- permalinkSymbol\uff1a\u7528\u4e8e\u56fa\u5b9a\u94fe\u63a5\u6807\u8bb0\u7684\u7b26\u53f7\\n\\n- - -\\n\\n\u53c2\u8003\uff1a\\n[markdown-it of GitHub](https://github.com/markdown-it)\\n[hexo-renderer-markdown-it GitHub Wiki](https://github.com/hexojs/hexo-renderer-markdown-it/wiki)"},{"id":"/2018/hexo-table-css","metadata":{"permalink":"/blog/2018/hexo-table-css","source":"@site/blog/2018/hexo-table-css.md","title":"Hexo \u8868\u683c\u6837\u5f0f\u8c03\u6574","description":"Markdown \u8bed\u6cd5\u4e2d\uff0c\u9ed8\u8ba4\u7684\u8868\u683c\u6837\u5f0f\u4e3a\uff1a\u6bcf\u5217\u7b49\u5206\uff0c\u8fd9\u6837\u4e0d\u4ec5\u5f71\u54cd\u7f8e\u89c2\uff0c\u8fd8\u4f1a\u56e0\u4e3a\u67d0\u5217\u8fc7\u957f\u800c\u628a\u8868\u683c\u6324\u53d8\u5f62","date":"2018-04-20T00:00:00.000Z","formattedDate":"2018\u5e744\u670820\u65e5","tags":[{"label":"hexo","permalink":"/blog/tags/hexo"},{"label":"hexo-plugin","permalink":"/blog/tags/hexo-plugin"}],"readingTime":0.555,"hasTruncateMarker":false,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Hexo \u8868\u683c\u6837\u5f0f\u8c03\u6574","authors":"Duke Lu","date":"2018-04-20T00:00:00.000Z","tags":["hexo","hexo-plugin"]},"unlisted":false,"prevItem":{"title":"Hexo \u63d2\u4ef6\u8be6\u89e3\uff1ahexo-renderer-markdown-it","permalink":"/blog/2018/hexo-renderer-markdown-it"},"nextItem":{"title":"Homebrew \u5165\u95e8\u53ca\u5e38\u7528\u547d\u4ee4","permalink":"/blog/2018/homebrew-quick-start"}},"content":"Markdown \u8bed\u6cd5\u4e2d\uff0c\u9ed8\u8ba4\u7684\u8868\u683c\u6837\u5f0f\u4e3a\uff1a\u6bcf\u5217\u7b49\u5206\uff0c\u8fd9\u6837\u4e0d\u4ec5\u5f71\u54cd\u7f8e\u89c2\uff0c\u8fd8\u4f1a\u56e0\u4e3a\u67d0\u5217\u8fc7\u957f\u800c\u628a\u8868\u683c\u6324\u53d8\u5f62\\n**\u89e3\u51b3\u529e\u6cd5**\u5f88\u7b80\u5355\uff1a\u5728 md \u6587\u4ef6\u4e2d\u6dfb\u52a0 css \u6837\u5f0f\u6765\u5373\u53ef\\n```\\n<style>\\ntable th:nth-of-type(1){\\nwidth: 20%;\\n}\\ntable th:nth-of-type(2){\\nwidth: 20%\\n;\\n}\\ntable th:nth-of-type(3){\\nwidth: 60%;\\n}\\n</style>\\n\\n*Java Reference Documentation*\\n| RELEASE | CODENAME | DOCUMENTATION |\\n| :-: | :-: | :-: |\\n| 10 | - | [JDK Documentation](https://docs.oracle.com/javase/10/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/10/docs/api/) &emsp;&#124;&emsp; Java EE API |\\n```"},{"id":"/2018/homebrew-quick-start","metadata":{"permalink":"/blog/2018/homebrew-quick-start","source":"@site/blog/2018/homebrew-quick-start.md","title":"Homebrew \u5165\u95e8\u53ca\u5e38\u7528\u547d\u4ee4","description":"\u7b80\u4ecb","date":"2018-04-14T00:00:00.000Z","formattedDate":"2018\u5e744\u670814\u65e5","tags":[{"label":"homebrew","permalink":"/blog/tags/homebrew"}],"readingTime":3.955,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"Homebrew \u5165\u95e8\u53ca\u5e38\u7528\u547d\u4ee4","authors":"Duke Lu","date":"2018-04-14T00:00:00.000Z","tags":["homebrew"]},"unlisted":false,"prevItem":{"title":"Hexo \u8868\u683c\u6837\u5f0f\u8c03\u6574","permalink":"/blog/2018/hexo-table-css"},"nextItem":{"title":"\u5e38\u7528\u53c2\u8003\u6587\u6863","permalink":"/blog/2018/reference-documentation"}},"content":"## \u7b80\u4ecb\\n`Hombrew` \u662f macOS\u7cfb\u7edf\u4e0b\u7684\u4e00\u6b3e\u7f3a\u5931\u8f6f\u4ef6\u5305\u7684\u7ba1\u7406\u5668\u3002\\n- \u5b8c\u5168\u57fa\u4e8e Git \u548c Ruby\\n- \u5c06\u8f6f\u4ef6\u5305\u5b89\u88c5\u5230\u72ec\u7acb\u76ee\u5f55\uff0c\u5e76\u5c06\u5176\u6587\u4ef6\u8f6f\u94fe\u63a5\u81f3 /usr/local/bin\\n- \u5b89\u88c5\u5230\u72ec\u7acb\u76ee\u5f55\uff0c\u4f7f\u5f97\u8f6f\u4ef6\u5305\u6613\u4e8e\u5378\u8f7d\\n- \u901a\u8fc7\u8f6f\u94fe\u63a5\u7684\u65b9\u5f0f\uff0c\u610f\u5473\u7740\u4e0d\u7528\u518d\u53bb\u914d\u7f6e\u73af\u5883\u53d8\u91cf\\n- \u6613\u4e8e\u7ba1\u7406\u8f6f\u4ef6\u5305\uff0c\u7701\u53bb\u5b89\u88c5\u914d\u7f6e\u7e41\u7410\u7684\u8fc7\u7a0b\\n\\n> \u5728Homebrew\u4e2d\uff0c\u8f6f\u4ef6\u5305\u5206\u4e3a CLI \u8f6f\u4ef6\u5305\u548c GUI \u8f6f\u4ef6\u5305\uff1a\\n> - CLI \u7684\u8f6f\u4ef6\u5305\u79f0\u4e3a `formula`\uff0c\u88ab\u5b89\u88c5\u81f3 `/usr/local/Cellar`\uff0c\u5982 git\u3001maven \u7b49\\n> - GUI \u7684\u8f6f\u4ef6\u5305\u79f0\u4e3a `cask`\uff0c\u88ab\u5b89\u88c5\u81f3 `/usr/local/Caskroom`\uff0c\u5982 QQ\u3001WeChat \u7b49\\n\\n\x3c!--truncate--\x3e \\n\\n## \u5b89\u88c5\u548c\u5378\u8f7d\\nMac \u9ed8\u8ba4\u96c6\u6210\u4e86 Ruby\uff0c\u76f4\u63a5\u8fd0\u884c\u4ee5\u4e0b Ruby \u811a\u6b65\u5373\u53ef\\n- \u5b89\u88c5\\n```\\n/usr/bin/ruby -e \\"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\\"\\n```\\n\u5b89\u88c5\u4e4b\u540e\uff0c`Homebrew` \u4f1a\u4e3a\u4f60\u81ea\u52a8\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u4ee5\u4f7f\u7528\u63d0\u4f9b\u7684\u547d\u4ee4\\n\\n- \u5378\u8f7d\\n```\\n/usr/bin/ruby -e \\"\\\\$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)\\"\\n```\\n\u5378\u8f7d\u4e4b\u540e\uff0c`Homebrew` \u5728\u5b89\u88c5\u65f6\u521b\u5efa\u7684\u76ee\u5f55\u3001\u4e0b\u8f7d\u7684\u8f6f\u4ef6\u5305\u53ca\u8f6f\u4ef6\u5305\u7684\u8f6f\u94fe\u63a5\u5747\u4f1a\u88ab\u5220\u9664\\n\\n## \u57fa\u672c\u4f7f\u7528\\nHomebrew \u6700\u5e38\u7528\u7684\u51e0\u4e2a\u64cd\u4f5c\u4fbf\u662f\u8f6f\u4ef6\u5305\u7684\u641c\u7d22\u3001\u4e0b\u8f7d\u3001\u5378\u8f7d\u3001\u66f4\u65b0\u4ee5\u53ca\u67e5\u770b\\n\\n**\u901a\u7528\u64cd\u4f5c**\\n```\\n// \u641c\u7d22\u67e5\u8be2\\nbrew search [text | /regex/] // \u65e0\u53c2\uff1a\u67e5\u627e\u6240\u6709\u53ef\u5b89\u88c5\u7684\u8f6f\u4ef6\u5305\uff1b\u6709\u53c2\uff1a\u6839\u636e\u5b57\u7b26\u4e32\u641c\u7d22\u8f6f\u4ef6\u5305\uff0c/regex/\u8868\u793a\u6b63\u5219\\n\\n// \u6e05\u7406\\nbrew cleanup [formula | cask] // \u65e0\u53c2\uff1a\u5220\u9664\u6240\u6709 formula \u548c cask \u8fc7\u65f6\u7248\u672c\uff1b\u6709\u53c2\uff1a\u5220\u9664\u6307\u5b9a formula \u6216 cask \u8fc7\u65f6\u7248\u672c\uff1b\\n\\n// \u66f4\u65b0\\nbrew update // \u66f4\u65b0 Homebrew\\n```\\n\\n**\u5bf9 `formula` \u7684\u64cd\u4f5c**\\n```\\n// \u5b89\u88c5\u3001\u5378\u8f7d\u3001\u91cd\u88c5\u3001\u66f4\u65b0\\nbrew install (formula) // \u5b89\u88c5\u6307\u5b9a formula\\nbrew reinstall (formula) // \u91cd\u88c5\u6307\u5b9a formula\\nbrew uninstall (formula) // \u5378\u8f7d\u6307\u5b9a formula\\nbrew upgrade [formula] // \u65e0\u53c2\uff1a\u66f4\u65b0\u6240\u6709\u5df2\u5b89\u88c5 formula\uff1b\u6709\u53c2\uff1a\u66f4\u65b0\u6307\u5b9a formula\\n\\n// \u67e5\u770b\\nbrew list [formula] // \u65e0\u53c2\uff1a\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5 formula\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a formula \u7684\u76f8\u5173\u5217\u8868\\nbrew info [formula] // \u65e0\u53c2\uff1a\u5217\u51fa\u5df2\u5b89\u88c5 formula \u7efc\u5408\u4fe1\u606f\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a formula \u7684\u4fe1\u606f\\nbrew home [formula] // \u65e0\u53c2: \u6253\u5f00 Homebrew \u5b98\u7f51\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a formula \u7684\u5b98\u7f51\\nbrew outdated // \u5217\u51fa\u5df2\u8fc7\u65f6\u7684 formula\\nbrew deps (formula) // \u5217\u51fa\u6307\u5b9a formula \u7684\u4f9d\u8d56\u9879\\n\\nbrew doctor \u68c0\u67e5\u914d\u7f6e\u95ee\u9898\\n```\\n\\n**\u5bf9 `cask` \u7684\u64cd\u4f5c**\\n```\\n// \u5b89\u88c5\u3001\u5378\u8f7d\u3001\u91cd\u88c5\u3001\u66f4\u65b0\\nbrew cask install (formula) // \u5b89\u88c5\u6307\u5b9a cask\\nbrew cask reinstall (formula) // \u91cd\u88c5\u6307\u5b9a cask\\nbrew cask uninstall (formula) // \u5378\u8f7d\u6307\u5b9a cask\\nbrew cask upgrade [formula] // \u65e0\u53c2\uff1a\u66f4\u65b0\u6240\u6709\u5df2\u5b89\u88c5 cask\uff1b\u6709\u53c2\uff1a\u66f4\u65b0\u6307\u5b9a cask\\n\\n// \u67e5\u770b\\nbrew cask list [formula] // \u65e0\u53c2\uff1a\u5217\u51fa\u6240\u6709\u5df2\u5b89\u88c5 cask\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a cask \u7684\u76f8\u5173\u5217\u8868\\nbrew cask info [formula] // \u65e0\u53c2\uff1a\u5217\u51fa\u5df2\u5b89\u88c5 cask \u7efc\u5408\u4fe1\u606f\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a cask \u7684\u4fe1\u606f\\nbrew cask home [formula] // \u65e0\u53c2: \u6253\u5f00 Homebrew \u5b98\u7f51\uff1b\u6709\u53c2\uff1a\u5217\u51fa\u6307\u5b9a cask \u7684\u5b98\u7f51\\nbrew cask outdated // \u5217\u51fa\u5df2\u8fc7\u65f6\u7684 cask\\n\\nbrew cask doctor \u68c0\u67e5\u914d\u7f6e\u95ee\u9898\\n```\\n\\n## \u5173\u4e8e Homebrew \u7684\u76ee\u5f55\\n- `/usr/local/Homebrew`\uff1a`Homebrew` \u7a0b\u5e8f\u672c\u8eab\u7684\u5b89\u88c5\u76ee\u5f55\\n- `/usr/local/Cellar`\uff1a\u5b58\u653e`formula` \u7684\u76ee\u5f55\\n- `/usr/local/Caskroom`\uff1a\u5b58\u653e`cask` \u7684\u76ee\u5f55\\n- `/usr/local/opt`\uff1a\u6240\u6709\u5305\u5ffd\u7565\u7248\u672c\u7684\u5b58\u653e\u76ee\u5f55\\n- `/usr/local/bin`\uff1a\u6240\u6709\u5305\u4e8c\u8fdb\u5236\u76ee\u5f55\\n- `/usr/local/etc`\uff1a\u6240\u6709\u5305\u914d\u7f6e\u6587\u4ef6\u76ee\u5f55\\n- `/usr/local/lib`\uff1a\u6240\u6709\u5305\u4f9d\u8d56\u5e93\u76ee\u5f55\\n- `/usr/local/share`\uff1a\u6240\u6709\u5305\u6587\u6863\u6587\u4ef6\u76ee\u5f55\\n\\n- - -\\n\\n\u66f4\u591a\u53c2\u8003\uff1a\\nhttps://brew.sh\\nhttps://docs.brew.sh/Manpage"},{"id":"/2018/reference-documentation","metadata":{"permalink":"/blog/2018/reference-documentation","source":"@site/blog/2018/reference-documentation.md","title":"\u5e38\u7528\u53c2\u8003\u6587\u6863","description":"Java \u5b98\u65b9\u53c2\u8003\u6587\u6863","date":"2018-04-07T00:00:00.000Z","formattedDate":"2018\u5e744\u67087\u65e5","tags":[],"readingTime":3.43,"hasTruncateMarker":true,"authors":[{"name":"Duke Lu","title":"Golang Development Engineer","url":"https://github.com/idukelu","imageURL":"https://github.com/idukelu.png","key":"Duke Lu"}],"frontMatter":{"title":"\u5e38\u7528\u53c2\u8003\u6587\u6863","authors":"Duke Lu","date":"2018-04-07T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"Homebrew \u5165\u95e8\u53ca\u5e38\u7528\u547d\u4ee4","permalink":"/blog/2018/homebrew-quick-start"}},"content":"## Java \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*Java Reference Documentation*\\n\\n| RELEASE | CODENAME | DOCUMENTATION |\\n| :-: | :-: | :-: |\\n| 12 | - | [JDK Documentation](https://docs.oracle.com/javase/12/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/en/java/javase/12/docs/api/) &emsp;&#124;&emsp; Java EE API |\\n| 11 | - | [JDK Documentation](https://docs.oracle.com/javase/11/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/en/java/javase/11/docs/api/) &emsp;&#124;&emsp; Java EE API |\\n| 10 | - | [JDK Documentation](https://docs.oracle.com/javase/10/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/10/docs/api/) &emsp;&#124;&emsp; Java EE API |\\n| 9 | - | [JDK Documentation](https://docs.oracle.com/javase/9/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/9/docs/api/) &emsp;&#124;&emsp; Java EE API |\\n| 8 | Spider | [JDK Documentation](https://docs.oracle.com/javase/8/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/8/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://javaee.github.io/javaee-spec/javadocs/) |\\n| 7 | Dolphin | [JDK Documentation](https://docs.oracle.com/javase/7/docs/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/7/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/7/api/) |\\n| 6 | Mustang | [JDK Documentation](https://docs.oracle.com/javase/6/docs/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/6/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/6/api/) |\\n| 5 | Tiger | [JDK Documentation](https://docs.oracle.com/javase/5/docs/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/5/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/5/api/) |\\n| 1.4 | Merlin | [JDK Documentation](https://docs.oracle.com/javase/1.4/docs/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/1.4/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.4/api/) |\\n| 1.3 | Kestrel | [JDK Documentation](https://docs.oracle.com/javase/1.3/docs/) &emsp;&#124;&emsp; [Java SE API](https://docs.oracle.com/javase/1.3/docs/api/) &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.3/api/) |\\n| 1.2 | Playground | JDK Documentation &emsp;&#124;&emsp; Java SE API &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.2/api/) |\\n| 1.1 | - | JDK Documentation &emsp;&#124;&emsp; Java SE API &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.2/api/) |\\n| 1.0 | Oak | JDK Documentation &emsp;&#124;&emsp; Java SE API &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.2/api/) |\\n| Beta | - | JDK Documentation &emsp;&#124;&emsp; Java SE API &emsp;&#124;&emsp; [Java EE API](https://docs.oracle.com/javaee/1.2/api/) |\\n\\nmore details: http://www.oracle.com/technetwork/java/index.html\\n\\n\x3c!--truncate--\x3e \\n\\n## Spring Framework \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*Spring Framework Reference Documentation*\\n\\n| RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n| 5.1.x | [Reference](https://docs.spring.io/spring-framework/docs/5.1.x/spring-framework-reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/5.1.x/javadoc-api/) |\\n| 5.0.x | [Reference](https://docs.spring.io/spring-framework/docs/5.0.x/spring-framework-reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/5.0.x/javadoc-api/) |\\n| 4.3.x | [Reference](https://docs.spring.io/spring-framework/docs/4.3.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/4.3.x/javadoc-api/) |\\n| 4.2.x | [Reference](https://docs.spring.io/spring-framework/docs/4.2.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/4.2.x/javadoc-api/) |\\n| 4.1.x | [Reference](https://docs.spring.io/spring-framework/docs/4.1.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/4.1.x/javadoc-api/) |\\n| 4.0.x | [Reference](https://docs.spring.io/spring-framework/docs/4.0.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/4.0.x/javadoc-api/) |\\n| 3.2.x | [Reference](https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/3.2.x/javadoc-api/) |\\n| 3.1.x | [Reference](https://docs.spring.io/spring-framework/docs/3.1.x/spring-framework-reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/3.1.x/javadoc-api/) |\\n| 3.0.x | [Reference](https://docs.spring.io/spring-framework/docs/3.0.x/reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/3.0.x/javadoc-api/) |\\n| 2.5.x | [Reference](https://docs.spring.io/spring-framework/docs/2.5.x/reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/) |\\n| 2.0.x | [Reference](https://docs.spring.io/spring-framework/docs/2.0.x/reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/2.0.x/api/) |\\n| 1.2.x | [Reference](https://docs.spring.io/spring-framework/docs/1.2.x/reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/1.2.x/javadoc-api/) |\\n| 1.1.x | [Reference](https://docs.spring.io/spring-framework/docs/1.1.x/reference/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-framework/docs/1.1.x/javadoc-api/) |\\n\\nmore details: https://projects.spring.io/spring-framework/index.html\\n\\n## Spring Boot \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*Spring Boot Reference Documentation*\\n\\n| RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n| 2.2.x | [Reference](https://docs.spring.io/spring-boot/docs/2.2.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/2.2.x/api/) |\\n| 2.1.x | [Reference](https://docs.spring.io/spring-boot/docs/2.1.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/2.1.x/api/) |\\n| 2.0.x | [Reference](https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/2.0.x/api/) |\\n| 1.5.x | [Reference](https://docs.spring.io/spring-boot/docs/1.5.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.5.x/api/) |\\n| 1.4.x | [Reference](https://docs.spring.io/spring-boot/docs/1.4.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.4.x/api/) |\\n| 1.3.x | [Reference](https://docs.spring.io/spring-boot/docs/1.3.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.3.x/api/) |\\n| 1.2.x | [Reference](https://docs.spring.io/spring-boot/docs/1.2.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.2.x/api/) |\\n| 1.1.x | [Reference](https://docs.spring.io/spring-boot/docs/1.1.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.1.x/api/) |\\n| 1.0.x | [Reference](https://docs.spring.io/spring-boot/docs/1.0.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/1.0.x/api/) |\\n| 0.5.x | Reference &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/0.5.x/api/) |\\n| 0.0.x | [Reference](https://docs.spring.io/spring-boot/docs/0.0.x/reference/html/) &emsp;&#124;&emsp; [API](https://docs.spring.io/spring-boot/docs/0.0.x/api/) |\\n\\nmore details: https://projects.spring.io/spring-boot/index.html\\n\\n## Spring Cloud \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*Spring Cloud Reference Documentation*\\n\\n| RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n| Hoxton | Reference &emsp;&#124;&emsp; API |\\n| Greenwich | [Reference](https://cloud.spring.io/spring-cloud-static/Greenwich.SR2/multi/multi_spring-cloud.html) &emsp;&#124;&emsp; API |\\n| Finchley | [Reference](http://cloud.spring.io/spring-cloud-static/Finchley.SR4/multi/multi_spring-cloud.html) &emsp;&#124;&emsp; API |\\n| Edgware | [Reference](http://cloud.spring.io/spring-cloud-static/Edgware.SR6/multi/multi_spring-cloud.html) &emsp;&#124;&emsp; API |\\n| Dalston | [Reference](http://cloud.spring.io/spring-cloud-static/Dalston.SR5/multi/multi_spring-cloud.html) &emsp;&#124;&emsp; API |\\n| Camden | [Reference](http://cloud.spring.io/spring-cloud-static/Camden.SR7/) &emsp;&#124;&emsp; API |\\n| Brixton | [Reference](http://cloud.spring.io/spring-cloud-static/Brixton.SR7/) &emsp;&#124;&emsp; API |\\n| Angle | Reference &emsp;&#124;&emsp; API |\\n\\nmore details: https://projects.spring.io/spring-cloud/index.html\\n\\n- - -\\n\\n## MyBatis \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*MyBatis Reference Documentation*\\n\\n|RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n| 3.x | [Reference](http://www.mybatis.org/mybatis-3/) &emsp;&#124;&emsp; API |\\n\\nmore details: http://blog.mybatis.org\\n\\n## MySQL \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*MySQL Reference Documentation*\\n\\n| RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n| 8.0 | [MySQL Reference Manual](https://dev.mysql.com/doc/refman/8.0/en/) &emsp;&#124;&emsp; [MySQL Release Notes](https://dev.mysql.com/doc/relnotes/mysql/8.0/en/) |\\n| 5.7 | [MySQL Reference Manual](https://dev.mysql.com/doc/refman/5.7/en/) &emsp;&#124;&emsp; [MySQL Release Notes](https://dev.mysql.com/doc/relnotes/mysql/8.0/en/) |\\n| 5.6 | [MySQL Reference Manual](https://dev.mysql.com/doc/refman/5.6/en/) &emsp;&#124;&emsp; [MySQL Release Notes](https://dev.mysql.com/doc/relnotes/mysql/5.6/en/) |\\n| 5.5 | [MySQL Reference Manual](https://dev.mysql.com/doc/refman/5.5/en/) &emsp;&#124;&emsp; [MySQL Release Notes](https://dev.mysql.com/doc/relnotes/mysql/5.5/en/) |\\n\\nmore details: https://dev.mysql.com/doc/\\n\\n## Git \u5b98\u65b9\u53c2\u8003\u6587\u6863\\n*Git Reference Documentation*\\n\\n| RELEASE | DOCUMENTATION |\\n| :-: | :-: |\\n|  | [Reference](https://git-scm.com/docs) &emsp;&#124;&emsp; [BOOK](https://git-scm.com/book/zh/v2) |\\n\\nmore details: https://git-scm.com/doc"}]}')}}]);